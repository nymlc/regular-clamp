!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(t,e,n){(function(e,r){n(22)();var i,a=t.exports,s=n(23),o={}.toString,u="undefined"!=typeof window?window:e;n(2);a.noop=function(){},a.uid=(i=0,function(){return i++}),a.extend=function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(void 0!==t[r]&&!0!==n||(t[r]=e[r]));return t},a.keys=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},a.values=Object.values?Object.values:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},a.some=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0},a.varName="d",a.setName="p_",a.ctxName="c",a.extName="e",a.rWord=/^[\$\w]+$/,a.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/,a.nextTick="function"==typeof r?r.bind(u):function(t){setTimeout(t,0)},a.prefix="'use strict';var "+a.varName+"="+a.ctxName+".data;"+a.extName+"="+a.extName+"||'';",a.slice=function(t,e,n){for(var r=[],i=e||0,a=n||t.length;i<a;i++)r.push(t[i]);return r},a.typeOf=function(t){return null==t?String(t):o.call(t).slice(8,-1).toLowerCase()},a.makePredicate=function(t,e){"string"==typeof t&&(t=t.split(" "));var n="",r=[];t:for(var i=0;i<t.length;++i){for(var a=0;a<r.length;++a)if(r[a][0].length===t[i].length){r[a].push(t[i]);continue t}r.push([t[i]])}function s(t){if(1===t.length)return n+="return str === '"+t[0]+"';";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case '"+t[e]+"':";n+="return true}return false;"}if(r.length>3){r.sort((function(t,e){return e.length-t.length})),n+="switch(str.length){";for(i=0;i<r.length;++i){var o=r[i];n+="case "+o[0].length+":",s(o)}n+="}"}else s(t);return new Function("str",n)},a.trackErrorPos=function(){var t=/\r\n|[\n\r\u2028\u2029]/g,e=50,n=20;function r(t,r,a,s){var o=t.length,u=r-e;u<0&&(u=0);var c=r+n;c>o&&(c=o);var l,f="["+(a+1)+"] "+(u>0?"..":""),h=c<o?"..":"",d=f+i(t.slice(u,c))+h;return s&&(d+="\n"+(l=i(t.slice(u,r)).length+f.length,new Array(l+1).join(" "))+"^"),d}function i(t){return t.replace(/^\t+/,(function(t){return t.split("\t").join("  ")}))}return function(e,n){n>e.length-1&&(n=e.length-1),t.lastIndex=0;var i=function(t,e){for(var n=0,r=0,i=t.length;r<i;r++){var a=(t[r]||"").length;if(n+a>e)return{num:r,line:t[r],start:e-n,prev:t[r-1],next:t[r+1]};n=n+a+1}}(e.split(t),n),a=i.start,s=i.num;return(i.prev?r(i.prev,a,s-1)+"\n":"")+r(i.line,a,s,!0)+"\n"+(i.next?r(i.next,a,s+1)+"\n":"")}}();var c=/\((\?\!|\?\:|\?\=)/g;a.findSubCapture=function(t){var e=0,n=0,r=t.length,i=t.match(c);for(i=i?i.length:0;r--;){var a=t.charAt(r);0!==r&&"\\"===t.charAt(r-1)||("("===a&&e++,")"===a&&n++)}if(e!==n)throw"RegExp: "+t+"'s bracket is not marched";return e-i},a.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,(function(t){return"\\"+t}))};var l=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+a.keys(s).join("|")+"));","gi");a.convertEntity=function(t){return(""+t).replace(l,(function(t,e,n,r){var i;return i=n?parseInt(n.slice(1),10):e?parseInt(e.slice(2),16):s[r],String.fromCharCode(i)}))},a.createObject=Object.create?function(t){return Object.create(t||null)}:function(){function t(){}return function(e){if(!e)return{};t.prototype=e;var n=new t;return t.prototype=null,n}}(),a.createProto=function(t,e){function n(){this.constructor=t}return n.prototype=e,t.prototype=new n},a.removeOne=function(t,e){for(var n=t.length;n--;)if(e(t[n]))return void t.splice(n,1)},a.clone=function(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e}e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a.equals=function(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e};var f,h,d,p,v,m,g=/-([a-z])/g;a.camelCase=function(t){return t.replace(g,(function(t,e){return e.toUpperCase()}))},a.throttle=function(t,e){e=e||100;var n,r,i,a=null,s=0,o=function(){s=+new Date,a=null,i=t.apply(n,r),n=r=null};return function(){var u=+new Date,c=e-(u-s);return n=this,r=arguments,c<=0||c>e?(clearTimeout(a),a=null,s=u,i=t.apply(n,r),n=r=null):a||(a=setTimeout(o,c)),i}},a.escape=(f=/&/g,h=/</g,d=/>/g,p=/\'/g,v=/\"/g,m=/[&<>\"\']/,function(t){return m.test(t)?t.replace(f,"&amp;").replace(h,"&lt;").replace(d,"&gt;").replace(p,"&#39;").replace(v,"&quot;"):t}),a.cache=function(t){var e=[],n={};return{set:function(t,r){return e.length>this.max&&(n[e.shift()]=void 0),void 0===n[t]&&e.push(t),n[t]=r,r},get:function(t){return void 0===t?n:n[t]},max:t=t||1e3,len:function(){return e.length}}},a.handleEvent=function(t,e){var n,r=this;return"expression"===t.type&&(n=t.get),n?function(t){var e=this;r.$update((function(){var i=this.data;i.$event=t,i.$sender=e,!1===n(r)&&t&&t.preventDefault&&t.preventDefault(),i.$event=void 0,i.$sender=void 0}))}:function(){var e=a.slice(arguments);e.unshift(t),r.$update((function(){r.$emit.apply(r,e)}))}},a.once=function(t){var e=0;return function(){0==e++&&t.apply(this,arguments)}},a.fixObjStr=function(t){return 0!==t.trim().indexOf("{")?"{"+t+"}":t},a.map=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(e(t[r],r));return n},a.log=function(t,e){"undefined"!=typeof console&&console[e||"log"](t)},a.normListener=function(t){var e=[],n=a.typeOf(t);if("array"===n)return t;if("object"===n)for(var r in t)t.hasOwnProperty(r)&&e.push({type:r,listener:t[r]});return e},a.isVoidTag=a.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),a.isBooleanAttr=a.makePredicate("selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple"),a.isExpr=function(t){return t&&"expression"===t.type},a.isGroup=function(t){return t.inject||t.$inject},a.blankReg=/^\s*$/,a.getCompileFn=function(t,e,n){return function(r){return r&&n?a.extend(r,n):r=n,e.$compile(t,r)}},a.fixTagAST=function(t,e){if(!t.touched){var n=t.attrs;if(n){var r=n.length;if(r){for(var i=[],s={};r--;){var o=n[r];"type"===o.name&&(o.priority=1e4);var u=e.directive(o.name);u?(o.priority=u.priority||1,o.directive=!0,i.push(o)):"attribute"===o.type&&(s[o.name]=o.value)}i.forEach((function(t){var r=e.directive(t.name).param;r&&r.length&&(t.param={},r.forEach((function(e){e in s&&(t.param[e]=void 0===s[e]||s[e],a.removeOne(n,(function(t){return t.name===e})))})))})),n.sort((function(t,e){var n=t.priority,r=e.priority;return null==n&&(n=9999),null==r&&(r=9999),r-n})),t.touched=!0}}}},a.findItem=function(t,e){if(t&&t.length)for(var n=t.length;n--;)if(e(t[n]))return t[n]},a.getParamObj=function(t,e){var n={};if(e)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i&&"expression"===i.type?t.$get(i):i}return n},a.eventReg=/^on-(\w[-\w]*)$/,a.toText=function(t){return null==t?"":""+t},a.escape=function(){var t=/&/g,e=/</g,n=/>/g,r=/\'/g,i=/\"/g,a=/[&<>\"\']/;return function(s){var o;return o=s,s=String(void 0===o||null==o?"":o),a.test(s)?s.replace(t,"&amp;").replace(e,"&lt;").replace(n,"&gt;").replace(r,"&#39;").replace(i,"&quot;"):s}}(),a.simpleDiff=function(t,e){var n=t.length;if(n!==e.length)return!0;for(var r=0;r<n;r++)if(t[r]!==e[r])return!0;return!1}}).call(this,n(8),n(20).setImmediate)},function(t,e,n){if("undefined"!=typeof window){var r,i,a=t.exports,s=n(5),o=n(0),u=n(3),c=document.createElement("div"),l=function(){},f=u.NAMESPACE;a.body=document.body,a.doc=document,a.tNode=c;c.addEventListener?(r=function(t,e,n){t.addEventListener(e,n,!1)},i=function(t,e,n){t.removeEventListener(e,n,!1)}):(r=function(t,e,n){t.attachEvent("on"+e,n)},i=function(t,e,n){t.detachEvent("on"+e,n)}),a.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(a.msie)&&(a.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),a.find=function(t){if(document.querySelector)try{return document.querySelector(t)}catch(t){}if(-1!==t.indexOf("#"))return document.getElementById(t.slice(1))},a.inject=function(t,e,n){if(n=n||"bottom",t){if(Array.isArray(t)){var r=t;t=a.fragment();for(var i=0,s=r.length;i<s;i++)t.appendChild(r[i])}var o;switch(n){case"bottom":e.appendChild(t);break;case"top":e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t);break;case"after":(o=e.nextSibling)?o.parentNode.insertBefore(t,o):e.parentNode.appendChild(t);break;case"before":e.parentNode.insertBefore(t,e)}}},a.id=function(t){return document.getElementById(t)},a.create=function(t,e){if("svg"===e){if(!s.svg)throw Error("the env need svg support");e=f.svg}return e?document.createElementNS(e,t):document.createElement(t)},a.fragment=function(){return document.createDocumentFragment()};var h={class:function(t,e){"className"in t&&(!t.namespaceURI||t.namespaceURI===f.html)?t.className=e||"":t.setAttribute("class",e)},for:function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(t,e){t.value=null!=e?e:""}};function d(t,e){return void 0!==t[e]?t[e]:t[e]=o.uid()}function p(t,e){return"change"===e&&a.msie<9&&t&&t.tagName&&"input"===t.tagName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)?"click":e}a.attr=function(t,e,n){if(o.isBooleanAttr(e)){if(void 0===n)return t[e]||(t.attributes.getNamedItem(e)||l).specified?e:void 0;n?(t[e]=!0,t.setAttribute(e,e),a.msie&&a.msie<=7&&"checked"===e&&(t.defaultChecked=!0)):(t[e]=!1,t.removeAttribute(e))}else if(void 0!==n)h[e]?h[e](t,n):null===n?t.removeAttribute(e):t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?void 0:r}},a.on=function(t,e,n){var i=e.split(" "),s=function(e){var r=new g(e);r.origin=t,n.call(t,r)},o=d(t,"_nid");return n._events=n._events||{},i.forEach((function(e){e=p(t,e);var i=o+"-"+e;n._events[i]||(n._events[i]=s),r(t,e,n._events[i])})),a},a.off=function(t,e,n){var r=e.split(" ");if(n&&n._events){var a=d(t,"_nid");r.forEach((function(e){e=p(t,e);var r=a+"-"+e,s=n._events[r]||n;i(t,e,s)}))}},a.text=(x={},a.msie&&a.msie<9?(x[1]="innerText",x[3]="nodeValue"):x[1]=x[3]="textContent",function(t,e){var n=x[t.nodeType];if(null==e)return n?t[n]:"";t[n]=e}),a.html=function(t,e){if(void 0===e)return t.innerHTML;t.innerHTML=e},a.replace=function(t,e){e.parentNode&&e.parentNode.replaceChild(t,e)},a.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)},a.css=function(t,e,n){if("object"==typeof e&&e)for(var r in e)e.hasOwnProperty(r)&&a.css(t,r,e[r]);else{var i;if(void 0===n)return a.msie<=8&&""===(i=t.currentStyle&&t.currentStyle[e])&&(i="auto"),i=i||t.style[e],a.msie<=8&&(i=""===i?void 0:i),i;(e=(""+e).replace(/-\D/g,(function(t){return t.charAt(1).toUpperCase()})))&&(t.style[e]=n)}},a.addClass=function(t,e){var n=t.className||"";-1===(" "+n+" ").indexOf(" "+e+" ")&&(t.className=n?n+" "+e:e)},a.delClass=function(t,e){var n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()},a.hasClass=function(t,e){return-1!==(" "+(t.className||"")+" ").indexOf(" "+e+" ")};var v=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,m=document;function g(t){if((t=t||window.event)._fixed)return t;this.event=t,this.target=t.target||t.srcElement;var e=this.type=t.type,n=this.button=t.button;if(v.test(e)&&(this.pageX=null!=t.pageX?t.pageX:t.clientX+m.scrollLeft,this.pageY=null!=t.pageX?t.pageY:t.clientY+m.scrollTop,"mouseover"===e||"mouseout"===e)){for(var r=t.relatedTarget||t[("mouseover"===e?"from":"to")+"Element"];r&&3===r.nodeType;)r=r.parentNode;this.relatedTarget=r}"DOMMouseScroll"!==e&&"mousewheel"!==e||(this.wheelDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),this.which=t.which||t.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}m=m.compatMode&&"CSS1Compat"!==m.compatMode?m.body:m.documentElement,o.extend(g.prototype,{stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}}),a.nextFrame=(_=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)},y=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){clearTimeout(t)},function(t){var e=_(t);return function(){y(e)}}),a.nextReflow=a.msie?function(t){return a.nextFrame((function(){document.body.offsetWidth,t()}))}:a.nextFrame}var _,y,x},function(t,e){t.exports={BEGIN:"{",END:"}",PRECOMPILE:!1}},function(t,e){t.exports={COMPONENT_TYPE:1,ELEMENT_TYPE:2,ERROR:{UNMATCHED_AST:101},MSG:{101:"Unmatched ast and mountNode, report issue at https://github.com/regularjs/regular/issues"},NAMESPACE:{html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},OPTIONS:{STABLE_INIT:{stable:!0,init:!0},FORCE_INIT:{force:!0,init:!0},STABLE:{stable:!0},INIT:{init:!0},SYNC:{sync:!0},FORCE:{force:!0}},DIFF:{REMOVE_ALL:1,ADD_ALL:0}}},function(t,e,n){var r=n(5),i=n(16),a=n(9),s=n(2),o=n(0),u=n(25),c=n(11),l={};if(r.browser){var f=n(1),h=n(26),d=n(19),p=f.doc;l=n(13)}var v=n(27),m=n(28),g=n(12),_=n(29),y=n(3).ERROR,x=n(14),E=(c=n(11),function(){}),T=function(t,e){var n=r.isRunning;r.isRunning=!0;var i,a,s,u,h;e=e||{};var d=(t=t||{}).template;if(r.browser){if((i=b(d))&&(d=i),d&&d.nodeType&&(t.template=d.innerHTML),"string"==typeof(h=t.mountNode)&&!(h=f.find(h)))throw Error("mountNode "+h+" is not found");h?(s=x(h.firstChild,h),delete t.mountNode):s=e.cursor}a=c.initDefinition(this,t),this.$parent&&this.$parent._append(this),this._children=[],this.$refs={},this.$root=this.$root||this;var p,v=e.extra,m=v&&v.$$modify;if(u=this._body){this._body=null;var g=this.modifyBodyComponent;"function"==typeof g?(g=g.bind(this),(p=o.createObject(v)).$$modify=function(t){return g(t,m||E)}):p=v,u.ast&&u.ast.length&&(this.$body=o.getCompileFn(u.ast,u.ctx,{outer:this,namespace:e.namespace,extra:p,record:!0}))}if(a){var _={namespace:e.namespace,cursor:s};_.extra={$$modify:v&&v.$$modify},this.group=this.$compile(a,_),l.node(this)}m&&m(this),this.$parent||this.$update(),this.$ready=!0,this.$emit("$init"),this.init&&this.init(this.data),this.$emit("$afterInit"),r.isRunning=n,this.devtools&&this.devtools.emit("init",this)};if("undefined"!=typeof window){var w=window.__REGULAR_DEVTOOLS_GLOBAL_HOOK__;w&&(T.prototype.devtools=w)}function b(t){var e;if("string"==typeof t&&t.length<16&&(e=f.find(t)))return o.log("pass selector as template has be deprecated, pass node or template string instead","warn"),e}h&&(h.Regular=T),o.extend(T,{_directives:{__regexp__:[]},_plugins:{},_protoInheritCache:["directive","use"],__after__:function(t,e){var n,i,o;(this.__after__=t.__after__,e.name&&T.component(e.name,this),n=e.template)&&(r.browser&&((i=b(n))&&(n=i),n&&n.nodeType&&((o=f.attr(n,"name"))&&T.component(o,this),n=n.innerHTML)),"string"==typeof n&&(this.prototype.template=s.PRECOMPILE?new a(n).parse():n));e.computed&&(this.prototype.computed=c.handleComputed(e.computed)),T._inheritConfig(this,t)},directive:function(t,e){if(t){var n=typeof t;if("object"===n&&!e){for(var r in t)t.hasOwnProperty(r)&&this.directive(r,t[r]);return this}var i,a=this._directives;if(null!=e)return"function"==typeof e&&(e={link:e}),"string"===n?a[t]=e:(e.regexp=t,a.__regexp__.push(e)),"function"!=typeof e.link&&(e.link=E),this;if("string"===n){if(i=a[t])return i;for(var s=a.__regexp__,o=0,u=s.length;o<u;o++){if((i=s[o]).regexp.test(t))return i}}}},plugin:function(t,e){var n=this._plugins;return null==e?n[t]:(n[t]=e,this)},use:function(t){return"string"==typeof t&&(t=T.plugin(t)),"function"!=typeof t?this:(t(this,T),this)},config:function(t,e){var n=!1;if("object"==typeof t)for(var r in t)"END"!==r&&"BEGIN"!==r||(n=!0),s[r]=t[r];n&&i.setup()},expression:g.expression,Parser:a,Lexer:i,_addProtoInheritCache:function(t,e){if(Array.isArray(t))return t.forEach(T._addProtoInheritCache);var n="_"+t+"s";T._protoInheritCache.push(t),T[n]={},T[t]||(T[t]=function(r,i){var a=this[n];if("object"==typeof r){for(var s in r)r.hasOwnProperty(s)&&this[t](s,r[s]);return this}return null==i?a[r]:(a[r]=e?e(i):i,this)})},_inheritConfig:function(t,e){var n=T._protoInheritCache;return o.slice(n).forEach((function(n){t[n]=e[n];var r="_"+n+"s";e[r]&&(t[r]=o.createObject(e[r]))})),t}}),u(T),T._addProtoInheritCache("component"),T._addProtoInheritCache("filter",(function(t){return"function"==typeof t?{get:t}:t})),v.mixTo(T),m.mixTo(T),T.implement({init:function(){},config:function(){},destroy:function(){this.$emit("$destroy"),this._watchers=null,this._watchersForStable=null,this.group&&this.group.destroy(!0),this.group=null,this.parentNode=null,this._children=null,this.$root=null,this._handles=null,this.$refs=null;var t=this.$parent;if(t&&t._children){var e=t._children.indexOf(this);t._children.splice(e,1)}this.$parent=null,this.devtools&&this.devtools.emit("destroy",this),this._handles=null,this.$phase="destroyed"},$compile:function(t,e){e=e||{},"string"==typeof t&&(t=new a(t).parse());var n,r=this.__ext__,i=e.record;e.extra&&(this.__ext__=e.extra),i&&this._record();var s=this._walk(t,e);if(i){n=this._release();var o=this;n.length&&(s.ondestroy=function(){o.$unwatch(n)})}return e.extra&&(this.__ext__=r),s},$bind:function(t,e,n){var r=o.typeOf(e);if("expression"===e.type||"string"===r)this._bind(t,e,n);else if("array"===r)for(var i=0,a=e.length;i<a;i++)this._bind(t,e[i]);else if("object"===r)for(var i in e)e.hasOwnProperty(i)&&this._bind(t,i,e[i]);return t.$update(),this},$unbind:function(){},$inject:l.inject,$mute:function(t){var e=!1===(t=!!t)&&this._mute;return this._mute=!!t,e&&this.$update(),this},_bind:function(t,e,n){var r=this;if(!(t&&t instanceof T))throw"$bind() should pass Regular component as first argument";if(!e)throw"$bind() should  pass as least one expression to bind";if(n||(n=e),e=g.expression(e),(n=g.expression(n)).set){var i=this.$watch(e,(function(e){t.$update(n,e)}));t.$on("$destroy",(function(){r.$unwatch(i)}))}if(e.set){var a=t.$watch(n,(function(t){r.$update(e,t)}));this.$on("$destroy",t.$unwatch.bind(t,a))}n.set(t,e.get(this))},_walk:function(t,e){if(Array.isArray(t)){for(var n=[],r=0,i=t.length;r<i;r++){var a=this._walk(t[r],e);a&&a.code===y.UNMATCHED_AST?(t.splice(r,1),r--,i--):n.push(a)}return new d(n)}return"string"==typeof t?p.createTextNode(t):h[t.type||"default"].call(this,t,e)},_append:function(t){this._children.push(t),t.$parent=this},_handleEvent:function(t,e,n,r){var i,a=this.constructor,s="function"!=typeof n?o.handleEvent.call(this,n,e):n,u=a.event(e);return u?i=u.call(this,t,s,r):f.on(t,e,s),u?i:function(){f.off(t,e,s)}},_touchExpr:function(t,e){e=this.__ext__;var n,r={};if("expression"!==t.type||t.touched)return t;if((n=t.get)||(n=t.get=new Function(o.ctxName,o.extName,o.prefix+"return ("+t.body+")"),t.body=null),r.get=e?function(t,r){return n(t,r||e)}:n,t.setbody&&!t.set){var i=t.setbody,a=t.filters,s=this;a&&o.some(a,(function(t){return!s._f_(t).set}))||(t.set=function(e,n,r){return t.set=new Function(o.ctxName,o.setName,o.extName,o.prefix+i),t.set(e,n,r)}),t.filters=t.setbody=null}return t.set&&(r.set=e?function(n,r){return t.set(n,r,e)}:t.set),r.type="expression",r.touched=!0,r.once=t.once||t.constant,r},_f_:function(t){var e=this.constructor.filter(t);if(!e)throw Error("filter "+t+" is undefined");return e},_sg_:function(t,e,n,r){if(void 0!==t){if(r&&"object"==typeof r&&void 0!==r[t])return r[t];if(null!==e){if(e&&void 0!==e[t])return e[t];if(null!==e){var i=this.computed[t];if(i){if("expression"!==i.type||i.get||this._touchExpr(i),i.get)return i.get(this);o.log("the computed '"+t+"' don't define the get function,  get data."+t+" altnately","warn")}}if(void 0!==n)return n[t]}}},_ss_:function(t,e,n,r,i){r=r||"=";var a,s=(i=this.computed)?i[t]:null;if("="!==r)switch(a=s?s.get(this):n[t],r){case"+=":e=a+e;break;case"-=":e=a-e;break;case"*=":e*=a;break;case"/=":e=a/e;break;case"%=":e=a%e}return s&&s.set?s.set(this,e):(n[t]=e,e)}}),T.prototype.inject=function(){return o.log("use $inject instead of inject","warn"),this.$inject.apply(this,arguments)},T.filter(_),t.exports=T},function(t,e,n){(function(t){var r=n(0);e.svg="undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),e.browser="undefined"!=typeof document&&document.nodeType,e.exprCache=r.cache(1e3),e.node=void 0!==t&&""+t=="[object process]",e.isRunning=!1}).call(this,n(15))},function(t,e,n){var r=n(0),i=n(1),a={},s=n(5);if("undefined"!=typeof window){var o="transitionend",u="animationend",c="transition",l="animation";"ontransitionend"in window||("onwebkittransitionend"in window?(o+=" webkitTransitionEnd",c="webkitTransition"):("onotransitionend"in i.tNode||"Opera"===navigator.appName)&&(o+=" oTransitionEnd",c="oTransition")),"onanimationend"in window||("onwebkitanimationend"in window?(u+=" webkitAnimationEnd",l="webkitAnimation"):"onoanimationend"in i.tNode&&(u+=" oAnimationEnd",l="oAnimation"))}function f(t,e){i.remove(t),e&&e()}function h(t){var e,n=0,r=0,i=0,a=0,s=0;return window.getComputedStyle&&(r=d((e=window.getComputedStyle(t))[c+"Duration"])||r,i=d(e[c+"Delay"])||i,a=d(e[l+"Duration"])||a,s=d(e[l+"Delay"])||s,n=Math.max(r+i,a+s)),1e3*n*(5/3)}function d(t){var e,n=0;return t?(t.split(",").forEach((function(t){(e=parseFloat(t))>n&&(n=e)})),n):0}a.inject=function(t,e,n,a){if(a=a||r.noop,Array.isArray(t)){for(var s=i.fragment(),o=0,u=0,c=t.length;u<c;u++)s.appendChild(t[u]);i.inject(s,e,n);var l=function(){++o===c&&a()};for(c===o&&a(),u=0;u<c;u++)t[u].onenter?t[u].onenter(l):l()}else{if(!t)return;i.inject(t,e,n),t.onenter?t.onenter(a):a()}},a.remove=function(t,e){if(t){var n=0;if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)a.remove(t[r],s);else"function"==typeof t.onleave?t.onleave((function(){f(t,e)})):f(t,e)}function s(){++n===i&&e&&e()}},a.startClassAnimate=function(t,e,n,a){var c,l,f,d;return!u&&!o||s.isRunning?n():(d=4!==a?r.once((function(){f&&clearTimeout(f),2===a&&i.delClass(t,c),3!==a&&i.delClass(t,e),i.off(t,u,d),i.off(t,o,d),n()})):r.once((function(){f&&clearTimeout(f),n()})),2===a?(i.addClass(t,e),c=r.map(e.split(/\s+/),(function(t){return t+"-active"})).join(" "),i.nextReflow((function(){i.addClass(t,c),l=h(t),f=setTimeout(d,l)}))):4===a?i.nextReflow((function(){i.delClass(t,e),l=h(t),f=setTimeout(d,l)})):i.nextReflow((function(){i.addClass(t,e),l=h(t),f=setTimeout(d,l)})),i.on(t,u,d),i.on(t,o,d),d)},a.startStyleAnimate=function(t,e,n){var a,s,c;return i.nextReflow((function(){i.css(t,e),a=h(t),c=setTimeout(s,a)})),s=r.once((function(){c&&clearTimeout(c),i.off(t,u,s),i.off(t,o,s),n()})),i.on(t,u,s),i.on(t,o,s),s},t.exports=a},function(t,e,n){var r=n(5),i=n(2),a=t.exports=n(4),s=a.Parser,o=a.Lexer;n(30),n(33),n(34),a.dom=n(1),a.env=r,a.util=n(0),a.parse=function(t,e){((e=e||{}).BEGIN||e.END)&&(e.BEGIN&&(i.BEGIN=e.BEGIN),e.END&&(i.END=e.END),o.setup());var n=new s(t).parse();return e.stringify?JSON.stringify(n):n},a.Cursor=n(14),a.isServer=r.node,a.isRegular=function(t){return t.prototype instanceof a}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0),i=(n(2),n(10)),a=n(16),s=r.varName,o=r.ctxName,u=r.extName,c=r.makePredicate("STRING IDENT NUMBER"),l=r.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),f=r.makePredicate("script style"),h=/\.bind$/;function d(t,e){e=e||{},this.input=t,this.tokens=new a(t,e).lex(),this.pos=0,this.length=this.tokens.length}var p=d.prototype;p.parse=function(){this.pos=0;var t=this.program();return"TAG_CLOSE"===this.ll().type&&this.error("You may got a unclosed Tag"),t},p.ll=function(t){(t=t||1)<0&&(t+=1);var e=this.pos+t-1;return e>this.length-1?this.tokens[this.length-1]:this.tokens[e]},p.la=function(t){return(this.ll(t)||"").type},p.match=function(t,e){var n;if(n=this.eat(t,e))return n;n=this.ll(),this.error("expect ["+t+(null==e?"":":"+e)+']" -> got "['+n.type+(null==e?"":":"+n.value)+"]",n.pos)},p.error=function(t,e){throw t="\n【 parse failed 】 "+t+":\n\n"+r.trackErrorPos(this.input,"number"==typeof e?e:this.ll().pos||0),new Error(t)},p.next=function(t){t=t||1,this.pos+=t},p.eat=function(t,e){var n=this.ll();if("string"!=typeof t){for(var r=t.length;r--;)if(n.type===t[r])return this.next(),n}else if(n.type===t&&(void 0===e||n.value===e))return this.next(),n;return!1},p.program=function(t){for(var e=[],n=this.ll();"EOF"!==n.type&&"TAG_CLOSE"!==n.type;)if(e.push(this.statement()),n=this.ll(),t&&"END"===n.type)return this.next(),i.body(e);return e};var v=/\r\n/g;function m(t,e){return{get:t,set:e}}p.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var e=t.value;for(this.next();t=this.eat(["NAME","TEXT"]);)e+=t.value;return i.text(e.replace(v,"\n"));case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.xml=function(){var t,e,n,a;return t=this.match("TAG_OPEN").value,f(t)&&this.error("Invalid Tag: "+t),e=this.attrs(),a=this.eat("/"),this.match(">"),a||r.isVoidTag(t)||(n=this.program(),this.eat("TAG_CLOSE",t)||this.error("expect </"+t+"> gotno matched closeTag")),i.element(t,e,n)},p.xentity=function(t){var e,n,r=t.value;if("NAME"===t.type){if(~r.indexOf(".")){var a=r.split(".");r=a[0],n=a[1]}return this.eat("=")&&(e=this.attvalue(n)),i.attribute(r,e,n)}return"if"!==r&&this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+r+" is invalid"),this.if(!0)},p.attrs=function(t){var e;e=t?["NAME"]:["NAME","OPEN"];for(var n,r=[];n=this.eat(e);)r.push(this.xentity(n));return r},p.attvalue=function(t){var e=this.ll();switch(e.type){case"NAME":case"UNQ":case"STRING":return this.next(),e.value;case"EXPR_OPEN":return this.interplation();case"BODY_OPEN":return this.next(),this.program(!0);default:this.error("Unexpected token: "+this.la())}},p.directive=function(){var t=this.ll().value;if(this.next(),"function"==typeof this[t])return this[t]();this.error("Undefined directive["+t+"]")},p.interplation=function(){this.match("EXPR_OPEN");var t=this.expression(!0);return this.match("END"),t},p.inc=p.include=function(){var t=this.expression();return this.match("END"),i.template(t)},p.if=function(t){var e,n,r=this.expression(),a=[],s=[],o=a,u=t?"attrs":"statement";for(this.match("END");!(n=this.eat("CLOSE"));)if("OPEN"===(e=this.ll()).type)switch(e.value){case"else":o=s,this.next(),this.match("END");break;case"elseif":return this.next(),s.push(this.if(t)),i.if(r,a,s);default:o.push(this[u](!0))}else o.push(this[u](!0));return"if"!==n.value&&this.error("Unmatched if directive"),i.if(r,a,s)},p.list=function(){var t,e,n,r=this.expression(),a=[],s=[],o=a;for(this.match("IDENT","as"),t=this.match("IDENT").value,this.eat("IDENT","by")&&(this.eat("IDENT",t+"_key")&&this.error("can not track by "+t+"_key in list statement"),this.eat("IDENT",t+"_index")?n=!0:(n=this.expression()).constant&&(n=!0)),this.match("END");!(e=this.eat("CLOSE"));)this.eat("OPEN","else")?(o=s,this.match("END")):o.push(this.statement());return"list"!==e.value&&this.error("expect list got /"+e.value+" ",e.pos),i.list(r,t,a,s,n)},p.expression=function(){var t;return this.eat("@(")?((t=this.expr()).once=!0,this.match(")")):t=this.expr(),t},p.expr=function(){this.depend=[];var t=this.filter(),e=t.get||t,n=t.set;return i.expression(e,n,!this.depend.length,t.filters)},p.filter=function(){var t,e,n,i=this.assign(),a=this.eat("|"),s=[],u=i.set,c="";if(a){u&&(e=[],t=[]),"(function(t){";do{var l=this.match("IDENT").value;c="t = "+o+"._f_('"+l+"' ).get.call( "+r.ctxName+",t",this.eat(":")?c+=", "+this.arguments("|").join(",")+");":c+=");",s.push(c),u&&(t.push(l),e.unshift(c.replace(" ).get.call"," ).set.call")))}while(a=this.eat("|"));s.push("return t"),e&&e.push("return t"),n="(function(t){"+s.join("")+"})("+i.get+")",e&&(u=u.replace(r.setName,"(function(t){"+e.join("")+"})("+r.setName+")"));var f=m(n,u);return f.filters=t,f}return i},p.assign=function(){var t,e=this.condition();return(t=this.eat(["=","+=","-=","*=","/=","%="]))?(e.set||this.error("invalid lefthand expression in assignment expression"),m(e.set.replace(","+r.setName,","+this.condition().get).replace("'='","'"+t.type+"'"),e.set)):e},p.condition=function(){var t=this.or();return this.eat("?")?m([t.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):t},p.or=function(){var t=this.and();return this.eat("||")?m(t.get+"||"+this.or().get):t},p.and=function(){var t=this.equal();return this.eat("&&")?m(t.get+"&&"+this.and().get):t},p.equal=function(){var t,e=this.relation();return(t=this.eat(["==","!=","===","!=="]))?m(e.get+t.type+this.equal().get):e},p.relation=function(){var t,e=this.additive();return(t=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?m(e.get+t.value+this.relation().get):e},p.additive=function(){var t,e=this.multive();return(t=this.eat(["+","-"]))?m(e.get+t.value+this.additive().get):e},p.multive=function(){var t,e=this.range();return(t=this.eat(["*","/","%"]))?m(e.get+t.type+this.multive().get):e},p.range=function(){var t,e=this.unary();return this.eat("..")?(t=this.unary(),m("(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+e.get+","+t.get+")")):e},p.unary=function(){var t;return(t=this.eat(["+","-","~","!"]))?m("("+t.type+this.unary().get+")"):this.member()},p.member=function(t,e,n,i){var a,l,f=!1;t?"string"==typeof e&&c(e)?n.push(e):(n&&n.length&&this.depend.push(n),n=null):"string"===typeof(l=this.primary())?((n=[]).push(l),e=l,t=o+"._sg_('"+l+"', undefined, "+s+", "+u+")",f=!0):"this"===l.get?(t=o,n=["this"]):(n=null,t=l.get);if(a=this.eat(["[",".","("]))switch(a.type){case".":var d=this.match("IDENT").value;return i=t,"("!==this.la()?t=o+"._sg_('"+d+"', "+t+" || null)":t+="."+d,this.member(t,d,n,i);case"[":return l=this.assign(),i=t,"("!==this.la()?t=o+"._sg_("+l.get+", "+t+" || null)":t+="["+l.get+"]",this.match("]"),this.member(t,l,n,i);case"(":return t=(t=t.replace(h,".__bind__"))+"("+this.arguments().join(",")+")",this.match(")"),this.member(t,null,n)}n&&n.length&&this.depend.push(n);var p={get:t};return e&&(p.set=o+"._ss_("+(e.get?e.get:"'"+e+"'")+","+r.setName+","+(i||r.varName)+", '=', "+(f?1:0)+")"),p},p.arguments=function(t){t=t||")";var e=[];do{this.la()!==t&&e.push(this.assign().get)}while(this.eat(","));return e},p.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":this.next();var e=""+t.value,n=~e.indexOf("'")?'"':"'";return m(n+e+n);case"NUMBER":return this.next(),m(""+t.value);case"IDENT":return this.next(),l(t.value)?m(t.value):t.value;default:this.error("Unexpected Token: "+t.type)}},p.object=function(){for(var t=[this.match("{").type],e=this.eat(["STRING","IDENT","NUMBER"]);e;){t.push("'"+e.value+"'"+this.match(":").type);var n=this.assign().get;t.push(n),e=null,this.eat(",")&&(e=this.eat(["STRING","IDENT","NUMBER"]))&&t.push(",")}return t.push(this.match("}").type),{get:t.join("")}},p.array=function(){var t,e=[this.match("[").type];if(this.eat("]"))e.push("]");else{for(;(t=this.assign())&&(e.push(t.get),this.eat(","));)e.push(",");e.push(this.match("]").type)}return{get:e.join("")}},p.paren=function(){this.match("(");var t=this.filter();return t.get="("+t.get+")",t.set=t.set,this.match(")"),t},t.exports=d},function(t,e){t.exports={element:function(t,e,n){return{type:"element",tag:t,attrs:e,children:n}},attribute:function(t,e,n){return{type:"attribute",name:t,value:e,mdf:n}},if:function(t,e,n){return{type:"if",test:t,consequent:e,alternate:n}},list:function(t,e,n,r,i){return{type:"list",sequence:t,alternate:r,variable:e,body:n,track:i}},expression:function(t,e,n,r){return{type:"expression",body:t,constant:n||!1,setbody:e||!1,filters:r}},body:function(t){return{type:"body",body:t}},text:function(t){return{type:"text",text:t}},template:function(t){return{type:"template",content:t}}}},function(t,e,n){var r=n(0),i=n(2),a=n(12),s=n(10);var o=function(){function t(t){return function(e){return t.call(e,e.data)}}function e(t){return function(e,n){return t.call(e,n,e.data),n}}return function(n){if(n){var r,i,s,o={};for(var u in n)s=typeof(r=n[u]),"expression"!==r.type?"string"===s?o[u]=a.expression(r):(i=o[u]={type:"expression"},"function"===s?i.get=t(r):(r.get&&(i.get=t(r.get)),r.set&&(i.set=e(r.set)))):o[u]=r;return o}}}();t.exports={initDefinition:function(t,e,n){var i,s=!!e.computed,u="string"==typeof t.template&&e.template;e.data=e.data||{},e.computed=e.computed||{},t.data&&r.extend(e.data,t.data),t.computed&&r.extend(e.computed,t.computed);var c,l=t._eventListeners||[];return e.events&&((c=r.normListener(e.events)).length&&(l=l.concat(c)),delete e.events),e.data=e.data||{},e.computed=e.computed||{},t.data&&r.extend(e.data,t.data),t.computed&&r.extend(e.computed,t.computed),u="string"==typeof t.template&&!e.template,r.extend(t,e,!0),l&&l.length&&l.forEach((function(e){t.$on(e.type,e.listener)})),n&&n(),s&&(t.computed=o(t.computed)),t.$emit("$config",t.data),t.config&&t.config(t.data),t.$emit("$afterConfig",t.data),"string"==typeof(i=t.template)&&(i=a.parse(i),u?t.constructor.prototype.template=i:delete t.template),i},handleComputed:o,prepareAttr:function(t,e){if(t.parsed)return t;var n,r,o=t.value;if(t.name,"string"==typeof o&&~o.indexOf(i.BEGIN)&&~o.indexOf(i.END)&&(!e||!e.nps)){var u=a.parse(o,{mode:2});1===u.length&&"expression"===u[0].type?n=u[0]:(r=!0,n=[],u.forEach((function(t){t.constant||(r=!1),n.push(t.body||"'"+t.text.replace(/'/g,"\\'")+"'")})),n=s.expression("["+n.join(",")+"].join('')",null,r)),t.value=n}return t.parsed=!0,t}}},function(t,e,n){var r=n(5).exprCache,i=(n(0),n(9));t.exports={expression:function(t,e){if("string"==typeof t&&(t=t.trim())&&(t=r.get(t)||r.set(t,new i(t,{mode:2,expression:!0}).expression())),t)return t},parse:function(t){return new i(t).parse()}}},function(t,e,n){var r=n(1),i=n(6),a=t.exports={node:function(t){var e,n;if(t){if("function"==typeof t.node)return t.node();if("number"==typeof t.nodeType)return t;if(t.group)return a.node(t.group);if(t=t.children||t,Array.isArray(t)){if(1===(i=t.length))return a.node(t[0]);n=[];for(var r=0,i=t.length;r<i;r++)if(e=a.node(t[r]),Array.isArray(e))for(var s=0,o=e.length;s<o;s++)n.push(e[s]);else e&&n.push(e);return n}}},inject:function(t,e){var n=a.node(this.group||this);if(!1===t)return i.remove(n),this;if(!n)return this;if("string"==typeof t&&(t=r.find(t)),!t)throw Error("injected node is not found");if(i.inject(n,t,e),this.$emit){var s=this.parentNode,o="after"===e||"before"===e?t.parentNode:t;this.parentNode=o,this.$emit("$inject",t,e,s)}return this},last:function(t){var e=t.children;return"function"==typeof t.last?t.last():"number"==typeof t.nodeType?t:e&&e.length?a.last(e[e.length-1]):t.group?a.last(t.group):void 0},destroy:function(t,e){if(t){if("number"==typeof t.nodeType)return e&&r.remove(t);if("function"==typeof t.destroy)return t.destroy(e);if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)a.destroy(t[n],e)}}};r.element=function(t,e){if(!t)return e?[]:null;var n=a.node(t);if(1===n.nodeType)return e?[n]:n;for(var r=[],i=0;i<n.length;i++){var s=n[i];if(s&&1===s.nodeType){if(!e)return s;r.push(s)}}return e?r:r[0]}},function(t,e){function n(t,e){this.node=t,this.parent=e}n.prototype.next=function(){return this.prev=this.node,this.node=this.node.nextSibling,this},t.exports=function(t,e){return new n(t,e)}},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=o(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||o(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r,i,a=n(0),s=n(2),o=n(24),u={"}":"{","]":"["},c={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\t\f ]/},l=/a|(b)/.exec("a"),f=l&&void 0===l[1]?function(t){return void 0!==t}:function(t){return!!t};function h(t){return function(e){return{type:t,value:e}}}function d(t,e){u[s.END]&&(this.markStart=u[s.END],this.markEnd=s.END),this.input=t||"",this.opts=e||{},this.syntaxSets=o(),this.state=o(),this.map=2!==this.opts.mode?r:i,this.syntaxSets.enter("INIT"),e&&e.expression&&(this.syntaxSets.enter("JST"),this.expression=!0)}var p=d.prototype;function v(t){for(var e,n,r={},i=0,s=t.length;i<s;i++)(r[n=(e=t[i])[2]||"INIT"]||(r[n]={rules:[],links:[]})).rules.push(e);return function(t){var e,n,r,i,s,o,u;function l(t,e){return"string"==typeof c[e]?a.escapeRegExp(c[e]):String(c[e]).slice(1,-1)}for(var f in t){(e=t[f]).curIndex=1,n=e.rules,r=[];for(var d=0,p=n.length;d<p;d++)u=n[d],s=u[0],"string"==typeof(i=u[1])&&(i=h(i)),"regexp"===a.typeOf(s)&&(s=s.toString().slice(1,-1)),s=s.replace(/\{(\w+)\}/g,l),o=a.findSubCapture(s)+1,e.links.push([e.curIndex,o,i]),e.curIndex+=o,r.push(s);e.TRUNK=new RegExp("^(?:("+r.join(")|(")+"))")}return t}(r)}p.lex=function(t){t=t||this.input;var e=/^\s*/.exec(t);t=t.trim();var n,r,i,a,s,o=[];this.input=t,this.marks=0,this.index=e?e[0].length:0;for(;t;)s=this.syntaxSets.get(),(r=(n=this.map[s]).TRUNK.exec(t))||this.error("Unrecoginized Token"),i=r[0].length,t=t.slice(i),(a=this._process.call(this,r,n,t))&&o.push(a),this.index+=i;return o.push({type:"EOF"}),o},p.error=function(t){throw Error("Parse Error: "+t+":\n"+a.trackErrorPos(this.input,this.index))},p._process=function(t,e,n){for(var r,i=e.links,s=!1,o=i.length,u=0;u<o;u++){var c=i[u],l=c[2],h=c[0];if(f(t[h])){s=!0,l&&(r=l.apply(this,a.slice(t,h,h+c[1])))&&(r.pos=this.index);break}}if(!s)switch(n.charAt(0)){case"<":this.syntaxSets.enter("TAG");break;default:this.syntaxSets.enter("JST")}return r},d.setup=function(){c.END=s.END,c.BEGIN=s.BEGIN,r=v([m.BODY_END,m.ENTER_JST,m.ENTER_TAG,m.TEXT,m.TAG_NAME,m.TAG_OPEN,m.TAG_CLOSE,m.TAG_PUNCHOR,m.TAG_ENTER_JST,m.TAG_UNQ_VALUE,m.TAG_STRING,m.TAG_SPACE,m.TAG_COMMENT,m.JST_OPEN,m.JST_BODY_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT]),i=v([m.BODY_END,m.ENTER_JST2,m.TEXT,m.JST_OPEN,m.JST_BODY_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT])};var m={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(t){if(this.syntaxSets.enter("JST"),t)return{type:"TEXT",value:t}}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){if(this.syntaxSets.enter("JST"),t)return{type:"TEXT",value:t}}],ENTER_TAG:[/[^\x00]*?(?=<[\w\/\!])/,function(t){if(this.syntaxSets.enter("TAG"),t)return{type:"TEXT",value:t}}],BODY_END:[/{SPACE}*{END}/,function(t){var e=this.syntaxSets.all();return"JST"===e[e.length-2]?(this.syntaxSets.leave("INIT"),this.syntaxSets.leave("JST"),{type:"END"}):{type:"TEXT",value:t}}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f\t ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(t,e){return{type:"TAG_OPEN",value:e}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f\t ]*>/,function(t,e){return this.syntaxSets.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.syntaxSets.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(t){return">"===t&&this.syntaxSets.leave(),{type:t,value:t}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)\"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,function(t){this.syntaxSets.leave()},"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(t,e){return this.state.enter("JST_OPEN"),{type:"OPEN",value:e}},"JST"],JST_BODY_OPEN:["{BEGIN}~{SPACE}*",function(t,e){return this.syntaxSets.enter("INIT"),{type:"BODY_OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(t){return this.markEnd===t&&this.expression?{type:this.markEnd,value:this.markEnd}:this.markEnd&&this.marks?(this.marks--,{type:this.markEnd,value:this.markEnd}):(this.state.leave("JST_OPEN"),this.state.leave("JST_EXPR_OPEN"),this.syntaxSets.leave("JST"),{type:"END"})},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(t,e){return this.syntaxSets.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.syntaxSets.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(t,e){if(t===this.markStart){if(this.expression)return{type:this.markStart,value:this.markStart};if(this.state.is("JST_OPEN")||this.state.is("JST_EXPR_OPEN")||this.marks)return this.marks++,{type:this.markStart,value:this.markStart};this.state.enter("JST_EXPR_OPEN")}return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]};d.setup(),t.exports=d},function(t,e,n){var r=n(0),i=n(18);function a(t,e){return t===e}function s(t,e,n,i){if(!n)return r.simpleDiff(t,e);for(var s=function(t,e,n){for(var r=t.length,i=e.length,s=(n=n||a,[]),o=0;o<=r;o++)s.push([o]);for(var u=1;u<=i;u++)s[0][u]=u;for(o=1;o<=r;o++)for(u=1;u<=i;u++)n(t[o-1],e[u-1])?s[o][u]=s[o-1][u-1]:s[o][u]=Math.min(s[o-1][u]+1,s[o][u-1]+1);return s}(e,t,i),o=m=e.length,u=t.length,c=u,l=[],f=s[o][c];o>0||c>0;)if(0!==o)if(0!==c){var h=s[o-1][c-1],d=s[o-1][c],p=s[o][c-1],v=Math.min(p,d,h);v===d?(l.unshift(2),o--,f=d):v===h?(h===f?l.unshift(0):(l.unshift(1),f=h),o--,c--):(l.unshift(3),c--,f=p)}else l.unshift(2),o--;else l.unshift(3),c--;var m=0;u=0;var g=[],_={index:null,add:0,removed:[]};for(o=0;o<l.length;o++)switch(l[o]>0?null===_.index&&(_.index=u):null!=_.index&&(g.push(_),_={index:null,add:0,removed:[]}),l[o]){case 0:m++,u++;break;case 3:_.add++,u++;break;case 2:_.removed.push(e[m]),m++;break;case 1:_.add++,_.removed.push(e[m]),m++,u++}return null!=_.index&&g.push(_),g}t.exports={diffArray:s,diffObject:function(t,e,n,a,o){if(n){var u=r.values(t),c=r.values(e);return"function"==typeof a?i(u,c,a,o):s(u,c,n)}for(var l in t)if(e[l]!==t[l])return!0;for(var f in e)if(e[f]!==t[f])return!0;return!1},diffTrack:i}},function(t,e,n){var r=n(0),i=n(3).DIFF;i.ADD_ALL,i.REMOVE_ALL;function a(t,e,n,r,i){r=r||1;var a=t[t.length-1];return a&&a.mode===e&&(0===e&&a.index===n||1===e&&a.index+a.len===n)?(a.len++,t):(t.push({mode:e,index:n,len:r}),t)}function s(t,e,n,r){a(e,1,n,r),t.splice(n,0,null)}function o(t,e,n,r){a(e,0,n,r),t.splice(n,1)}function u(t,e){for(var n=[],r={},i=0,a=t.length;i<a;i++){t[i];var s=e(t[i]);r.hasOwnProperty(s)?n.push(i):r[s]=i}return{untrack:n,trackMap:r}}t.exports=function(t,e,n){var i=e.length,c=t.length,l=[],f={isTrack:!0,steps:l};if(!r.simpleDiff(t,e))return f;if(f.dirty=!0,i&&!c)return a(l,0,0,i),f;if(c&&!i)return a(l,1,0,c),f;var h=r.slice(e),d=u(t,n),p=u(e,n),v=d.trackMap,m=p.trackMap,g={},_=p.untrack,y=_.length;if(y)for(;y--;){_[y];o(h,l,_[y])}for(var x=h.length,E=0;E<x;E++){var T=n(h[E]);v.hasOwnProperty(T)||(g[T]=m[T],o(h,l,E),E--,x--)}for(var w=t.length,b=(E=0,0);b<w;)if(E>=h.length)s(h,l,E,1),E++,b++;else{T=n(h[E]);n(t[b])!==T?(s(h,l,E,1),E++,b++):(E++,b++)}var N=h.length;if(b<N){a(l,0,b,N-b);for(var $=b;$<N;$++){g[T=n(h[$])]=m[T]}}return f.oldKeyMap=g,f}},function(t,e,n){var r=n(0),i=n(13);function a(t){this.children=t||[]}var s=r.extend(a.prototype,{destroy:function(t){i.destroy(this.children,t),this.ondestroy&&this.ondestroy(),this.children=null},get:function(t){return this.children[t]},push:function(t){this.children.push(t)}});s.inject=s.$inject=i.inject,t.exports=a},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(21),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,a,s,o,u=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){a.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),r=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},h.clearImmediate=d}function d(t){delete c[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(8),n(15))},function(t,e){var n=[].slice,r={}.toString;function i(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return e}t.exports=function(){i(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),i(Array.prototype,{indexOf:function(t,e){for(var n=e=e||0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1},forEach:function(t,e){var n=0,r=Object(this),i=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(;n<i;){var a;n in r&&(a=r[n],t.call(e,a,n,r)),n++}},filter:function(t,e){var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],a=0;a<r;a++)if(a in n){var s=n[a];t.call(e,s,a,n)&&i.push(s)}return i}}),i(Function.prototype,{bind:function(t){var e=this,r=n.call(arguments,1);return function(){var i=r.concat(n.call(arguments));return e.apply(t,i)}},__bind__:function(t){return this.__binding__?this.__binding__:this.__binding__=this.bind.apply(this,arguments)}}),i(Array,{isArray:function(t){return"[object Array]"===r.call(t)}})}},function(t,e){t.exports={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364}},function(t,e){t.exports=function(){return{_stack:[],enter:function(t){return this._stack.push(t),this},leave:function(t){var e=this._stack;return t&&e[e.length-1]!==t||e.pop(),this},get:function(){var t=this._stack;return t[t.length-1]},all:function(){return this._stack},is:function(t){var e=this._stack;return e[e.length-1]===t}}}},function(t,e,n){var r=n(0),i=/xy/.test((function(){}))?/\bsupr\b/:/.*/,a=function(t){return"function"==typeof t},s={events:function(t,e){var n=e._eventListeners||[],i=r.normListener(t);i.length&&(e._eventListeners=n.concat(i)),delete e.events}};function o(t,e,n){return function(){var r=this.supr;this.supr=n[t];var i=e.apply(this,arguments);return this.supr=r,i}}var u=["data","computed"],c=u.length;t.exports=function t(e){e=e||{};var n,l=this,f=l&&l.prototype||{};if("function"==typeof e)return n=e.prototype,e.implement=d,e.extend=t,e;function h(){l.apply(this,arguments)}function d(t){for(var e=c;e--;){var l=u[e];n[l]&&t.hasOwnProperty(l)&&n.hasOwnProperty(l)&&(r.extend(n[l],t[l],!0),delete t[l])}return function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(s.hasOwnProperty(r)&&s[r](e[r],t,n),t[r]=a(e[r])&&a(n[r])&&i.test(e[r])?o(r,e[r],n):e[r])}(n,t,f),this}return n=r.createProto(h,f),h.implement=d,h.implement(e),l.__after__&&l.__after__.call(h,l,e),h.extend=t,h}},function(t,e,n){var r=n(17).diffArray,i=n(13),a=n(6),s=(n(9),n(10),n(19)),o=n(1),u=n(0),c=n(3),l=c.OPTIONS,f=c.ERROR,h=c.MSG,d=n(14),p=(n(2),n(11)),v=(n(3).DIFF,t.exports={});function m(t,e){return"array"===e?t:"object"===e?u.keys(t):[]}v.list=function(t,e){v.Regular;var n,c,l=document.createComment("Regular list"),f=e.namespace,h=e.extra,d=this,p=new s([l]),g=p.children,_=t.variable+"_index",x=t.variable+"_key",E=t.variable,T=t.alternate,w=t.track,b=e.cursor;function N(t,e,r,i){for(var a=1;a<=e;a++){var s=r[t+a];if(i){var o=n(s.data[E]);if(void 0!==i[o]){null!==i[o]&&s.inject(!1);continue}}s.destroy(!0)}r.splice(t+1,e)}function $(r,s,c,l,v){for(var m=r;m<s;m++){var _=c[m],y=null;if(v){var x=n(_);(y=v[x])&&(v[x]=null)}var E=!!y;if(E)S(y.data,m,_);else{var T=u.createObject(h);S(T,m,_,l),(y=d.$compile(t.body,{extra:T,namespace:f,record:!0,outer:e.outer,cursor:b})).data=T}var w=i.last(p.get(m));!w.parentNode||b&&b.node||(E?o:a).inject(i.node(y),w,"after"),g.splice(m+1,0,y)}}function S(t,e,n,r){t[_]=e,r?(t[x]=n,t[E]=r[n]):(t[E]=n,t[x]=null)}function O(t,e,n,r){for(var i=t;i<e;i++){var a=p.get(i+1),s=n[i];S(a.data,i,s,r)}}return y(l,b),w&&!0!==w&&(w=this._touchExpr(w),c=u.createObject(h),n=function(t,e){return c[E]=t,w.get(d,c)}),this.$watch(t.sequence,(function(t,n,s,o,c){var v,y=u.typeOf(t),x=u.typeOf(n),b=m(t,y),S=m(n,x),A=b&&b.length,C=S&&S.length;if("object"===y&&(v=t),!C&&A){if(p.get(1)){var k=g.pop();k.destroy&&k.destroy(!0)}return $(0,A,b,v)}if(A)if(w)if(!0===w||c&&!s.length)!function(t,e,n){var r=t.length,i=e.length;O(0,Math.min(r,i),t,n),r<i?N(r,i-r,g):r>i&&$(i,r,t,n)}(b,S,v);else{if(o)for(var I in o){var P=o[I];g[P+1]&&(o[I]=g[P+1])}!function(t,e,n,r,i){for(var a=0,s=n.length;a<s;a++){var o=n[a];switch(o.mode){case 0:N(o.index,o.len,p.children,i);break;case 1:$(o.index,o.index+o.len,t,r,i)}}for(var u=p.children,c=1,l=u.length;c<l;c++){var f=u[c];f&&(f.data[E]=t[c-1],f.data[_]=c-1)}}(b,0,s,v,o)}else!function(t,e,n,i){var a=0,s=t.length;if(n||0===s&&0===e.length||(n=r(t,e,!0)),n&&n.length){for(var o=0;o<n.length;o++){var u=n[o],c=u.index,l=u.removed,f=u.add,h=l.length;O(a,c,t,i),N(c,h,g),$(c,c+f,t,i),a=(a=c+f-h)<0?0:a}if(a<s)for(o=a;o<s;o++){p.get(o+1).data[_]=o}}}(b,S,s,v);else if(C&&N(0,C,p.children),T&&T.length){var R=d.$compile(T,{extra:h,record:!0,outer:e.outer,namespace:f});g.push(R),l.parentNode&&a.inject(i.node(R),l,"after")}}),{init:!0,keyOf:n,diff:!0!==w,deep:!0}),b=null,p},v.template=function(t,e){var n,r=t.content,i=document.createComment("inlcude"),a=e.namespace,o=e.extra,u=new s([i]),c=e.cursor;if(y(i,c),r){var f=this;this.$watch(r,(function(t){var r=u.get(1),s=typeof t;r&&(r.destroy(!0),u.children.pop()),t&&(u.push(n="function"===s?t(c?{cursor:c}:null):f.$compile("object"!==s?String(t):t,{record:!0,outer:e.outer,namespace:a,cursor:c,extra:o})),i.parentNode&&!c&&n.$inject(i,"before"))}),l.INIT),c=null}return u};var g=0;function _(t,e,n){for(var r=[],i=0,a=t.length;i<a;i++){var s=this._walk(t[i],{element:e,fromElement:!0,attrs:t,extra:n});s&&r.push(s)}return r}function y(t,e){e&&(e.node?o.inject(t,e.node,"before"):e.prev?(o.inject(t,e.prev,"after"),e.prev=t):e.parent&&(o.inject(t,e.parent),e.prev=t))}v.if=function(t,e){var n,r,o=this,u=e.extra;if(e&&e.element){var c=function(a){a?(r&&i.destroy(r),t.consequent&&(n=o.$compile(t.consequent,{record:!0,element:e.element,extra:u}))):(n&&i.destroy(n),t.alternate&&(r=o.$compile(t.alternate,{record:!0,element:e.element,extra:u})))};return this.$watch(t.test,c,l.FORCE),{destroy:function(){n?i.destroy(n):r&&i.destroy(r)}}}var f=document.createComment("Regular if"+g++),h=new s;h.push(f);var d=null,p=e.namespace,v=e.cursor;y(f,v);c=function(n,r){var s,c=!!n;if(c!==d){d=c,h.children[1]&&(h.children[1].destroy(!0),h.children.pop());var l={record:!0,outer:e.outer,namespace:p,extra:u,cursor:v};c?t.consequent&&t.consequent.length&&(s=o.$compile(t.consequent,l)):t.alternate&&t.alternate.length&&(s=o.$compile(t.alternate,l)),s&&(h.push(s),f.parentNode&&!v&&a.inject(i.node(s),f,"before")),v=null}};return this.$watch(t.test,c,l.FORCE_INIT),h},v._handleMountText=function(t,e){var n,r=t.node,i=o.text(r);if(i===e)n=r,t.next();else{var a=i.indexOf(e);if(!~a)throw Error(h[f.UNMATCHED_AST]);n=document.createTextNode(e),o.text(r,i.slice(a+e.length)),o.inject(n,r,"before")}return n},v.expression=function(t,e){var n,r=e.cursor;if(r&&r.node){var i=u.toText(this.$get(t));n=v._handleMountText(r,i)}else n=document.createTextNode("");return this.$watch(t,(function(t){o.text(n,u.toText(t))}),l.STABLE_INIT),n},v.text=function(t,e){var n,r=e.cursor,i=t.text,a=-1!==i.indexOf("&")?u.convertEntity(i):i;if(r&&r.node)if(3!==r.node.nodeType){if(u.blankReg.test(a))return{code:f.UNMATCHED_AST}}else n=v._handleMountText(r,a);return n||document.createTextNode(a)},v.element=function(t,e){var n,r,s,c=t.attrs,l=this.constructor,p=t.children,m=e.namespace,g=e.extra,y=e.cursor,x=t.tag,E=l.component(x);if("r-content"===x)return u.log("r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)","warn"),this.$body&&this.$body(y?{cursor:y}:null);if(y&&y.node&&3===y.node.nodeType)if(u.blankReg.test(o.text(y.node)))y.next();else if(!E&&"r-component"!==x)throw Error(h[f.UNMATCHED_AST]);if(E||"r-component"===x)return e.Component=E,v.component.call(this,t,e);if(y&&(s=y.node),"svg"===x&&(m="svg"),p&&p.length&&!function(t){for(var e=t.length;e--;){if("r-html"===t[e].name)return!0}}(c)){var T=s?s.firstChild:null;n=this.$compile(p,{extra:g,outer:e.outer,namespace:m,cursor:d(T,s)})}s?(r=s,y.next()):r=o.create(x,m,c),!n||u.isVoidTag(x)||s||a.inject(i.node(n),r),u.fixTagAST(t,l);var w=_.call(this,c,r,g);return{type:"element",group:n,node:function(){return r},last:function(){return r},destroy:function(t){t?a.remove(r,n?n.destroy.bind(n):u.noop):n&&n.destroy(),w.length&&w.forEach((function(t){t&&("function"==typeof t.destroy?t.destroy():t())}))}}},v.component=function(t,e){for(var n,r,a,o,c=t.attrs,f=e.Component,h=e.cursor,d=this.constructor,m=e.extra,g=e.namespace,_=v.Regular.directive("ref"),y=this,x={},E=0,T=c.length;E<T;E++){var w=c[E];p.prepareAttr(w,"ref"===w.name&&_),(k=this._touchExpr(void 0===w.value||w.value)).constant&&(k=w.value=k.get(this)),w.value&&!0===w.value.constant&&(k=k.get(this));var b,N=w.name;if(!w.event){var $=N.match(u.eventReg);$&&(w.event=$[1])}if("cmpl"===w.mdf&&(k=u.getCompileFn(k,this,{record:!0,namespace:g,extra:m,outer:e.outer})),k&&"body"===k.type&&(k=u.getCompileFn(k.body,this,{record:!0,namespace:g,extra:m,outer:e.outer})),"is"===N&&!f){a=k;var S=this.$get(k,!0);if("function"!=typeof(f=d.component(S)))throw new Error("component "+S+" has not registed!")}(b=w.event)?(o=o||{})[b]=u.handleEvent.call(this,k,b):(N=w.name=u.camelCase(N),k&&"expression"===k.type?x[N]=k.get(y):x[N]=k,"ref"===N&&null!=k&&(r=k),"isolate"===N&&(n="expression"===k.type?k.get(y):parseInt(!0===k?3:k,10),x.isolate=n))}var O={data:x,events:o,$parent:2&n?null:this,$root:this.$root,$outer:e.outer,_body:{ctx:this,ast:t.children}},A=(e={namespace:g,cursor:h,extra:e.extra},new f(O,e));if(r&&this.$refs){var C=_.link.call(this,A,r);A.$on("$destroy",C)}for(E=0,T=c.length;E<T;E++){var k=(w=c[E]).value||!0;N=w.name;"expression"!==k.type||w.event||(k=y._touchExpr(k),2&n||this.$watch(k,function(t,e){this.data[t]=e}.bind(A,N),l.SYNC),!k.set||1&n||A.$watch(N,y.$update.bind(y,k),l.INIT))}if(a&&"expression"===a.type){var I=new s;return I.push(A),this.$watch(a,(function(t){var e=d.component(t);if(!e)throw new Error("component "+t+" has not registed!");var n=new e(O),a=I.children.pop();if(I.push(n),n.$inject(i.last(a),"after"),a.destroy(),r){var s=r.get?r.get(this):r;y.$refs[s]=n}}),l.SYNC),I}return A},v.attribute=function(t,e){var n=t,r=this.constructor,i=n.name,a=r.directive(i);p.prepareAttr(t,a);var s=n.value||"",c=s.constant,f=e.element,h=this;if(s=this._touchExpr(s),c&&(s=s.get(this)),a&&a.link){var d={attrs:e.attrs,param:u.getParamObj(this,n.param)},v=a.link.call(h,f,s,i,d);return"function"==typeof a.update&&(u.isExpr(s)?this.$watch(s,(function(t,e){a.update.call(h,f,t,e,d)})):a.update.call(h,f,s,void 0,d)),"function"==typeof v&&(v={destroy:v}),v}if("expression"===s.type?this.$watch(s,(function(t,e){o.attr(f,i,t)}),l.STABLE_INIT):u.isBooleanAttr(i)?o.attr(f,i,!0):o.attr(f,i,s),!e.fromElement)return{destroy:function(){o.attr(f,i,null)}}}},function(t,e,n){var r=n(0),i={destroy:"$destroy",update:"$update",init:"$init",config:"$config"};function a(t){return i[t]||t}var s={$on:function(t,e,n){if("object"==typeof t&&t)for(var r in t)this.$on(r,t[r],e);else{n=n||{};t=a(t);var i,s=this._handles||(this._handles={}),o=s[t]||(s[t]=[]);n.once&&(i=function(){e.apply(this,arguments),this.$off(t,e)},e.real=i),o.push(i||e)}return this},$off:function(t,e){if(this._handles){t||(this._handles={});var n,r=this._handles;if(n=r[t=a(t)]){if(!e)return r[t]=[],this;e=e.real||e;for(var i=0,s=n.length;i<s;i++)if(e===n[i])return n.splice(i,1),this}return this}},$emit:function(t){var e,n=this,i=n._handles;if(t){var s=r.slice(arguments,1),o=a(t);if(!i)return n;if(!(e=i[o]))return n;e.length>1&&(e=e.slice());for(var u=0,c=e.length;u<c;u++)"function"==typeof e[u]&&e[u].apply(n,s);return n}},$once:function(t,e){var n=r.slice(arguments);return n.push({once:!0}),this.$on.apply(this,n)}};function o(){}r.extend(o.prototype,s),o.mixTo=function(t){t="function"==typeof t?t.prototype:t,r.extend(t,s)},t.exports=o},function(t,e,n){var r=n(0),i=n(12).expression,a=n(17),s=n(18),o=a.diffArray,u=a.diffObject;function c(){}var l={$watch:function(t,e,n){var i,a,s,o,u=!1,c=this.__ext__;this._watchers||(this._watchers=[]),this._watchersForStable||(this._watchersForStable=[]),!0===(n=n||{})&&(n={deep:!0});var l=r.uid("w_");if(Array.isArray(t)){for(var f=[],h=0,d=t.length;h<d;h++)f.push(this.$expression(t[h]).get);var p=[];s=function(t){for(var e=!0,n=0,i=f.length;n<i;n++){var a=f[n](t,c);r.equals(a,p[n])||(e=!1,p[n]=a)}return!e&&p}}else"function"==typeof t?i=t.bind(this):(t=this.$expression(t),r.isExpr(t)?(i=t.get,a=t.once):(i=function(){return t},a=!0,u=!0));var v={id:l,get:i,fn:e,once:a,force:n.force,diff:n.diff,keyOf:n.keyOf,test:s,deep:n.deep,last:n.sync?i(this):n.last};if(this[n.stable||u?"_watchersForStable":"_watchers"].push(v),(o=this._records&&this._records.length)&&this._records[o-1].push(v),!0===n.init){var m=this.$phase;this.$phase="digest",this._checkSingleWatch(v),this.$phase=m}return v},$unwatch:function(t){if(this._watchers&&t){var e=this._watchers,n=typeof t;if("object"===n){var i=t.length;if(i)for(;i-- >=0;)this.$unwatch(t[i]);else t.removed=!0}else if("number"===n){var a=t;return(t=r.findItem(e,(function(t){return t.id===a})))||(t=r.findItem(this._watchersForStable,(function(t){return t.id===a}))),this.$unwatch(t)}return this}},$expression:function(t){return this._touchExpr(i(t))},$digest:function(){if("digest"!==this.$phase&&!this._mute){this.$phase="digest";for(var t=0;this._digest();)if(++t>20)throw Error("there may a circular dependencies reaches");var e=this._digest(!0);(t>0||e)&&this.$emit&&(this.$emit("$update"),this.devtools&&this.devtools.emit("flush",this)),this.$phase=null}},_digest:function(t){if(!this._mute){var e,n,r=t?this._watchersForStable:this._watchers,i=!1,a=r&&r.length;if(a)for(var s=0,o=0,u=0;u<a;u++){var c=!(n=r[u])||n.removed;c?o+=1:this._checkSingleWatch(n)&&(i=!0),c&&u!==a-1||(o&&(r.splice(s,o),a-=o,u-=o,o=0),s=u+1)}if((e=this._children)&&e.length)for(var l=0,f=e.length;l<f;l++){var h=e[l];h&&h._digest(t)&&(i=!0)}return i}},_checkSingleWatch:function(t){var e=!1;if(t){var n,i,a,c,l,f,h;if(t.test){var d=t.test(this);d&&(e=!0,t.fn.apply(this,d))}else n=t.get(this),i=t.last,f=t.keyOf,(n!==i||t.force)&&(a=r.typeOf(i),!0,"object"===(c=r.typeOf(n))&&"object"===a&&t.deep?((l=u(n,i,t.diff,f)).isTrack&&(l=(h=l).steps),(!0===l||l.length)&&(e=!0)):"array"!==c||"undefined"!=a&&"array"!==a?r.equals(n,i)&&!t.force||(t.force=null,e=!0):("function"==typeof f?(l=(h=s(n,t.last||[],f)).steps,h.dirty&&(e=!0)):l=o(n,t.last||[],t.diff),e||"array"===a&&!0!==l&&!l.length||(e=!0)));return e&&!t.test&&("object"===c&&t.deep||"array"===c?t.last=r.clone(n):t.last=n,t.fn.call(this,n,i,l,h&&h.oldKeyMap,h&&h.dirty),t.once&&this.$unwatch(t)),e}},$set:function(t,e){if(null!=t){var n=typeof t;if("string"===n||"expression"===t.type)(t=this.$expression(t)).set(this,e);else if("function"===n)t.call(this,this.data);else for(var r in t)this.$set(r,t[r])}},$get:function(t,e){return e&&"string"==typeof t?t:this.$expression(t).get(this)},$update:function(){var t=this;if("destroyed"===t.$phase)return this;do{if(t.data.isolate||!t.$parent)break;t=t.$parent}while(t);var e=t.$phase;return t.$phase="digest",this.$set.apply(this,arguments),t.$phase=e,t.$digest(),this},_record:function(){this._records||(this._records=[]),this._records.push([])},_release:function(){return this._records.pop()}};r.extend(c.prototype,l),c.mixTo=function(t){return t="function"==typeof t?t.prototype:t,r.extend(t,l)},t.exports=c},function(t,e){var n=t.exports={};n.json={get:function(t){return"undefined"!=typeof JSON?JSON.stringify(t):t},set:function(t){return"undefined"!=typeof JSON?JSON.parse(t):t}},n.last=function(t){return t&&t[t.length-1]},n.average=function(t,e){return(t=t||[]).length?n.total(t,e)/t.length:0},n.total=function(t,e){var n=0;if(t)return t.forEach((function(t){n+=e?t[e]:t})),n}},function(t,e,n){var r=n(0),i=n(1),a=(n(6),n(4)),s=n(3),o=s.NAMESPACE,u=s.OPTIONS.STABLE,c={deep:!0,stable:!0};n(31),n(32),t.exports={"r-class":function(t,e){"string"==typeof e&&(e=r.fixObjStr(e));var n=t.namespaceURI&&t.namespaceURI!==o.html;this.$watch(e,(function(e){var r=n?t.getAttribute("class"):t.className;for(var a in r=" "+(r||"").replace(/\s+/g," ")+" ",e)e.hasOwnProperty(a)&&(r=r.replace(" "+a+" "," "),!0===e[a]&&(r+=a+" "));r=r.trim(),n?i.attr(t,"class",r):t.className=r}),c)},"r-style":function(t,e){"string"==typeof e&&(e=r.fixObjStr(e)),this.$watch(e,(function(e,n){for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&i.css(t,r,"");for(r in e)e.hasOwnProperty(r)&&i.css(t,r,e[r])}),c)},"r-hide":{link:function(t,e){var n,i=null;r.isExpr(e)||"string"==typeof e?this.$watch(e,(function(e){var r=!!e;r!==i&&(i=r,r?t.onleave?n=t.onleave((function(){t.style.display="none",n=null})):t.style.display="none":(n&&n(),t.style.display="",t.onenter&&t.onenter()))}),u):e&&(t.style.display="none")},ssr:function(t){return t?'style="display:none"':""}},"r-html":{ssr:function(t,e){return e.body=t,""},link:function(t,e){this.$watch(e,(function(e){e=e||"",i.html(t,e)}),{force:!0,stable:!0})}},ref:{accept:s.COMPONENT_TYPE+s.ELEMENT_TYPE,link:function(t,e){var n,i=this.$refs||(this.$refs={});return r.isExpr(e)?this.$watch(e,(function(e,r){n=e,i[r]===t&&(i[r]=null),n&&(i[n]=t)}),u):i[n=e]=t,function(){i[n]=null}}}},a.directive(t.exports)},function(t,e,n){var r=n(0),i=n(1),a=n(4);a._addProtoInheritCache("event"),a.directive(/^on-\w+$/,(function(t,e,n,r){if(n&&e){var i=n.split("-")[1];return this._handleEvent(t,i,e,r)}})),a.directive(/^(delegate|de)-\w+$/,(function(t,e,n){var a=this.$root,s=a._delegates||(a._delegates={});if(n&&e){var o=n.split("-")[1],u=r.handleEvent.call(this,e,o);s[o]||(s[o]=[],a.parentNode?i.on(a.parentNode,o,l):a.$on("$inject",(function(t,e,n){var r=this.parentNode;n&&i.off(n,o,l),r&&i.on(this.parentNode,o,l)})),a.$on("$destroy",(function(){a.parentNode&&i.off(a.parentNode,o,l),s[o]=null})));var c={element:t,fire:u};return s[o].push(c),function(){var t=s[o];if(t&&t.length)for(var e=0,n=t.length;e<n;e++)t[e]===c&&t.splice(e,1)}}function l(t){!function(t,e,n){if(!n)return;var r,i=t.target;for(;i&&i!==n;){for(var a=0,s=e.length;a<s;a++)(r=e[a])&&r.element===i&&r.fire(t);i=i.parentNode}}(t,s[o],a.parentNode)}}))},function(t,e,n){var r,i=n(0),a=n(1),s=n(3).OPTIONS.STABLE,o=n(4),u={text:function(t,e,n){var o,u=n.param,c=u.lazy;"throttle"in u&&(o=!0===u.throttle?400:parseInt(u.throttle,10));var l=this,f=this.$watch(e,(function(e){t.value!==e&&(t.value=null==e?"":""+e)}),s),h=!1,d=function(t){if(!h){h=!1;var n=this;if("cut"===t.type||"paste"===t.type)i.nextTick((function(){var t=n.value;e.set(l,t),f.last=t,l.$update()}));else{var r=n.value;e.set(l,r),f.last=r,l.$update()}}};if(o&&!c){d=i.throttle(d,o)}void 0===r&&(r=9!==a.msie&&"oninput"in document.createElement("input"));c?a.on(t,"change",d):("function"==typeof CompositionEvent&&(t.addEventListener("compositionstart",(function(){h=!0})),t.addEventListener("compositionend",(function(t){h=!1,d.call(this,t)}))),r?t.addEventListener("input",d):a.on(t,"paste keyup cut change",d));void 0===e.get(l)&&t.value&&e.set(l,t.value);return function(){if(c)return a.off(t,"change",d);r?t.removeEventListener("input",d):a.off(t,"paste keyup cut change",d)}},select:function(t,e,n){var r=this,i=this.$watch(e,(function(e){for(var n=t.getElementsByTagName("option"),r=0,i=n.length;r<i;r++)if(n[r].value==e){t.selectedIndex=r;break}}),s);function o(){e.set(r,this.value),i.last=this.value,r.$update()}a.on(t,"change",o),void 0===e.get(r)&&t.value&&e.set(r,t.value);return function(){a.off(t,"change",o)}},checkbox:function(t,e){var n=this,r=this.$watch(e,(function(e){a.attr(t,"checked",!!e)}),s),i=function(){var t=this.checked;e.set(n,t),r.last=t,n.$update()};e.set&&a.on(t,"change",i);void 0===e.get(n)&&e.set(n,!!t.checked);return function(){e.set&&a.off(t,"change",i)}},radio:function(t,e){var n=this,r=(this.$watch(e,(function(e){e==t.value?t.checked=!0:t.checked=!1}),s),function(){var t=this.value;e.set(n,t),n.$update()});e.set&&a.on(t,"change",r);void 0===e.get(n)&&t.checked&&e.set(n,t.value);return function(){e.set&&a.off(t,"change",r)}}};o.directive("r-model",{param:["throttle","lazy"],link:function(t,e,n,r){var i=t.tagName.toLowerCase(),a=i;return"input"===a?a=t.type||"text":"textarea"===a&&(a="text"),"string"==typeof e&&(e=this.$expression(e)),u[a]?u[a].call(this,t,e,r):"input"===i?u.text.call(this,t,e,r):void 0}})},function(t,e,n){var r=n(0),i=n(6),a=(n(1),n(4)),s=/\s+/,o="when",u="on";function c(t,e){var n=this.constructor;r.isExpr(e)&&(e=e.get(this));var i,a,s,c,l=(e=e.trim()).split(";"),f=[],h=[];function d(t){i&&f.push(i),i=function(t){var e,n=[],i=0,a=r.noop,s={type:t,start:function(t){return e=r.uid(),"function"==typeof t&&(a=t),i>0?i=0:s.step(),s.compelete},compelete:function(){e=null,a&&a(),a=r.noop,i=0},step:function(){n[i]&&n[i](s.done.bind(s,e))},done:function(t){t===e&&(i<n.length-1?(i++,s.step()):s.compelete())},push:function(t){n.push(t)}};return s}(t)}function p(t,e){e&&t()}function v(t){return function(){t.onenter=null,t.onleave=null}}for(var m=0,g=l.length;m<g;m++)if(a=(c=l[m].split(":"))[0]&&c[0].trim(),s=c[1]&&c[1].trim(),a)if(a!==o)if(a!==u){var _;if(!(_=n.animation(a))||!i)throw Error(_?"you should start with `on` or `event` in animation":"undefined animator 【"+a+"】");i.push(_.call(this,{element:t,done:i.done,param:s}))}else d(s),"leave"===s?(t.onleave=i.start,h.push(v(t))):"enter"===s?(t.onenter=i.start,h.push(v(t))):"on"+s in t?h.push(this._handleEvent(t,s,i.start)):(this.$on(s,i.start),h.push(this.$off.bind(this,s,i.start)));else d("when"),this.$watch(s,p.bind(this,i.start));if(h.length)return function(){h.forEach((function(t){t()}))}}a._addProtoInheritCache("animation"),a.animation({wait:function(t){var e=parseInt(t.param)||0;return function(t){setTimeout(t,e)}},class:function(t){var e=t.param.split(","),n=e[0]||"",r=parseInt(e[1])||1;return function(e){i.startClassAnimate(t.element,n,e,r)}},call:function(t){var e=this.$expression(t.param).get,n=this;return function(t){e(n),n.$update(),t()}},emit:function(t){var e=t.param.split(","),n=e[0]||"",r=e[1]?this.$expression(e[1]).get:null;if(!n)throw Error("you shoud specified a eventname in emit command");var i=this;return function(t){i.$emit(n,r?r(i):void 0),t()}},style:function(t){var e,n={};return t.param.split(",").forEach((function(t){if(t=t.trim()){var r=t.split(s),i=r.shift(),a=r.join(" ");if(!i||!a)throw Error("invalid style in command: style");n[i]=a,e=!0}})),function(r){e?i.startStyleAnimate(t.element,n,r):r()}}}),a.directive("r-animation",c),a.directive("r-anim",c)},function(t,e,n){var r=n(4);function i(t){t.implement({$timeout:function(t,e){return e=e||0,setTimeout(function(){t.call(this),this.$update()}.bind(this),e)},$interval:function(t,e){return e=e||1e3/60,setInterval(function(){t.call(this),this.$update()}.bind(this),e)}})}r.plugin("timeout",i),r.plugin("$timeout",i)},function(t,e,n){"use strict";n.r(e);var r=n(7),i=n.n(r);let a=null;let s=null;function o(t,e={}){let n=document.createElement(t);return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function u(t,e,n){return(window.getComputedStyle(t,n||null)||{display:"none"})[e]}function c(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};let e=t;for(;e!==document;){if("none"===u(e,"display"))return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var l='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let f=0,h=null;function d(t,e){if(t.__resize_mutation_handler__||(t.__resize_mutation_handler__=p.bind(t)),!t.__resize_listeners__)if(t.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:e,offsetHeight:n}=t,r=new ResizeObserver(()=>{(t.__resize_observer_triggered__||(t.__resize_observer_triggered__=!0,t.offsetWidth!==e||t.offsetHeight!==n))&&m(t)}),{detached:i,rendered:a}=c(t);t.__resize_observer_triggered__=!1===i&&!1===a,t.__resize_observer__=r,r.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){m(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(f||(h=function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}(l)),function(t){let e=u(t,"position");e&&"static"!==e||(t.style.position="relative");t.__resize_old_position__=e,t.__resize_last__={};let n=o("div",{className:"resize-triggers"}),r=o("div",{className:"resize-expand-trigger"}),i=o("div"),a=o("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(a),t.appendChild(n),t.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:a},g(t),t.addEventListener("scroll",v,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}(t),t.__resize_rendered__=c(t).rendered,window.MutationObserver){let e=new MutationObserver(t.__resize_mutation_handler__);e.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=e}t.__resize_listeners__.push(e),f++}function p(){let{rendered:t,detached:e}=c(this);t!==this.__resize_rendered__&&(!e&&this.__resize_triggers__&&(g(this),this.addEventListener("scroll",v,!0)),this.__resize_rendered__=t,m(this))}function v(){var t,e;g(this),this.__resize_raf__&&(t=this.__resize_raf__,s||(s=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),s(t)),this.__resize_raf__=(e=()=>{let t=function(t){let{width:e,height:n}=t.__resize_last__,{offsetWidth:r,offsetHeight:i}=t;return r!==e||i!==n?{width:r,height:i}:null}(this);t&&(this.__resize_last__=t,m(this))},a||(a=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),a(e))}function m(t){t&&t.__resize_listeners__&&t.__resize_listeners__.forEach(e=>{e.call(t)})}function g(t){let{expand:e,expandChild:n,contract:r}=t.__resize_triggers__,{scrollWidth:i,scrollHeight:a}=r,{offsetWidth:s,offsetHeight:o,scrollWidth:u,scrollHeight:c}=e;r.scrollLeft=i,r.scrollTop=a,n.style.width=s+1+"px",n.style.height=o+1+"px",e.scrollLeft=u,e.scrollTop=c}const _=["maxLines","maxHeight","ellipsis","isClamped"],y=["tag","text","autoresize"],x={name:"regular-clamp",data:{offset:null,text:"",ellipsis:"...",localExpanded:!1,realLines:0},computed:{clampedText:t=>t.text.slice(0,t.offset)+t.ellipsis,isClamped:t=>!!t.text&&t.offset!==t.text.length,realText(t){return this.$get("isClamped")?this.$get("clampedText"):t.text},realMaxHeight(t){if(t.localExpanded)return null;let{maxHeight:e}=t;return e?"number"==typeof e?`${e}px`:e:null}},config(){this.data.afterElm=this.data.after,this.data.text=this.getText(),this.data.maxLines=+this.data.maxLines||0,this.data.localExpanded=!!this.data.expanded,this.$watch("expanded",t=>{this.data.localExpanded=t,this.$update()}),this.$watch("localExpanded",t=>{t?this.clampAt(this.data.text.length):this.update(),this.data.expanded!==t&&this.$emit("expanded",t),this.$update()}),this.$update()},init(){setTimeout(()=>{this.mounted()},0)},destroy(){this.supr(),this.cleanUp()},mounted(){this.initComp(),y.forEach(t=>{this.$watch(t,this.initComp)}),_.forEach(t=>{this.$watch(t,()=>{this.update()})}),this.$watch("text",(t,e)=>{null!=e?(this.resetData(t),setTimeout(()=>{this.update(!0)},0)):setTimeout(()=>{this.update()},0)},{init:!0})},resetData(t){this.data.afterElm="",this.data.offset=t.length,this.data.realLines=0,this.data.localExpanded=!1,this.data.text=t,this.$update()},initComp(){if(this.data.text){if(this.data.offset=this.data.text.length,this.cleanUp(),this.data.autoresize){let t=()=>{this.update()};d(this.$refs.clamp,t),this.unregisterResizeCallback=()=>{!function(t,e){let n=t.__resize_listeners__;if(n){if(e&&n.splice(n.indexOf(e),1),!n.length||!e){if(t.detachEvent&&t.removeEventListener)return t.detachEvent("onresize",t.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",v),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null}!--f&&h&&h.parentNode.removeChild(h)}}(this.$refs.clamp,t)}}this.update()}},update(t){t&&(this.data.afterElm=this.data.after,this.data.localExpanded=!!this.data.expanded),this.data.realLines=this.getLines(),this.$update(),this.data.localExpanded&&!t||(this.applyChange(),(this.isOverflow()||this.$get("isClamped"))&&this.search(),this.data.realLines=this.getLines(),this.$update())},toggle(){this.data.localExpanded=!this.data.localExpanded,this.$update()},getLines(){return this.$refs.content.getClientRects().length},isOverflow(){return!(!this.data.maxLines&&!this.data.maxHeight)&&(!!(this.data.maxLines&&this.getLines()>this.data.maxLines)||!!(this.data.maxHeight&&this.$el.scrollHeight>this.$el.offsetHeight))},getText(){let[t={}]=(this._body.ast||[]).filter(t=>"text"===t.type);return t.text&&t.text.trim()?t.text:this.data.text||""},moveEdge(t){this.clampAt(this.data.offset+t)},clampAt(t){this.data.offset=t,this.$update(),this.applyChange()},applyChange(){this.$refs.text.textContent=this.$get("realText")},stepToFit(){this.fill(),this.clamp()},fill(){for(;(!this.isOverflow()||this.getLines()<2)&&this.data.offset<this.data.text.length;)this.moveEdge(1)},clamp(){for(;this.isOverflow()&&this.getLines()>1&&this.data.offset>0;)this.moveEdge(-1)},search(...t){let[e=0,n=this.data.offset]=t;if(n-e<=3)return void this.stepToFit();let r=Math.floor((n+e)/2);this.clampAt(r),this.isOverflow()?this.search(e,r):this.search(r,n)},cleanUp(){this.unregisterResizeCallback&&this.unregisterResizeCallback()},template:'<div ref="clamp" style="max-height: {realMaxHeight}; overflow: hidden;">\n                    <span ref="content" style="box-shadow: transparent 0 0;">{#if before}{#include before}{/if}<span ref="text" aria-label="{text.trim()}" style="white-space: pre-wrap;word-break: break-all;" {#if isTextTriggerToggle} on-click={this.toggle()} {/if}>{realText}</span>{#if afterElm}{#include afterElm}{/if}</span>\n                </div>'};"undefined"!=typeof window&&window.Regular&&window.Regular.extend(x);var E=x;i.a.extend(E);let T="01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012";new i.a({template:'\n        <regular-clamp on-expanded={this.updateExpanded($event)} text={text} max-lines=3 ellipsis="..." after={after} before={before}>\n\n        </regular-clamp>\n    ',data:{after:'<span class="end tag" r-hide="!(localExpanded || isClamped)" on-click={this.toggle()}>\n            {#if localExpanded}\n                收起\n            {#else}\n                查看全部\n            {/if}\n        </span>',before:'<span class="start tag">开始</span>',text:T.replace(/\s/g,"")},updateExpanded:function(t){console.log(t)}}).$inject("#test"),new i.a({template:'\n        <regular-clamp on-expanded={this.updateExpanded($event)} isTextTriggerToggle expanded autoresize max-lines=3 ellipsis="..." after={after} before={before}>\n            Regular是什么\nRegular 本身在网易公司内部稳定运行了超过4年(本节撰写于2018年), 支持了数十条产品线，可靠性是值得保证的。\nRegular 是 MDV(数据驱动视图技术) 的一种实现， 它...\n提供以下能力\n数据绑定,局部刷新\n深度的组件化能力\n服务端渲染\n单页系统：regular-state提供完整的单页系统解决方案，包括服务端渲染支持\n编译到小程序: 感谢考拉团队精彩的 mpregular\n拥有以下特性\n语法灵活：自建DSL，表达能力不受HTML语法所限\n基于脏检查：直接操作裸数据，没有 set/get 包装\n良好的兼容性：支持 IE7+ 以及其他现代浏览器\n渐进的视图层框架：无侵入性，可以配合任何框架和模块系统使用\n        </regular-clamp>\n    ',data:{after:'<span class="end tag" r-hide="!((localExpanded && realLines >3) || isClamped)" on-click={this.toggle()}>\n            {#if localExpanded}\n                收起\n            {#else}\n                查看全部\n            {/if}\n        </span>',before:'<span class="start tag">开始</span>'},updateExpanded:function(t){console.log(t)}}).$inject("#resize")}]);
//# sourceMappingURL=index.js.map