!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t,n){(function(t,r){n(22)();var i,a=e.exports,s=n(23),o={}.toString,u="undefined"!=typeof window?window:t;n(2);a.noop=function(){},a.uid=(i=0,function(){return i++}),a.extend=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(void 0!==e[r]&&!0!==n||(e[r]=t[r]));return e},a.keys=Object.keys?Object.keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},a.values=Object.values?Object.values:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},a.some=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return!0},a.varName="d",a.setName="p_",a.ctxName="c",a.extName="e",a.rWord=/^[\$\w]+$/,a.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/,a.nextTick="function"==typeof r?r.bind(u):function(e){setTimeout(e,0)},a.prefix="'use strict';var "+a.varName+"="+a.ctxName+".data;"+a.extName+"="+a.extName+"||'';",a.slice=function(e,t,n){for(var r=[],i=t||0,a=n||e.length;i<a;i++)r.push(e[i]);return r},a.typeOf=function(e){return null==e?String(e):o.call(e).slice(8,-1).toLowerCase()},a.makePredicate=function(e,t){"string"==typeof e&&(e=e.split(" "));var n="",r=[];e:for(var i=0;i<e.length;++i){for(var a=0;a<r.length;++a)if(r[a][0].length===e[i].length){r[a].push(e[i]);continue e}r.push([e[i]])}function s(e){if(1===e.length)return n+="return str === '"+e[0]+"';";n+="switch(str){";for(var t=0;t<e.length;++t)n+="case '"+e[t]+"':";n+="return true}return false;"}if(r.length>3){r.sort((function(e,t){return t.length-e.length})),n+="switch(str.length){";for(i=0;i<r.length;++i){var o=r[i];n+="case "+o[0].length+":",s(o)}n+="}"}else s(e);return new Function("str",n)},a.trackErrorPos=function(){var e=/\r\n|[\n\r\u2028\u2029]/g,t=50,n=20;function r(e,r,a,s){var o=e.length,u=r-t;u<0&&(u=0);var c=r+n;c>o&&(c=o);var l,f="["+(a+1)+"] "+(u>0?"..":""),h=c<o?"..":"",p=f+i(e.slice(u,c))+h;return s&&(p+="\n"+(l=i(e.slice(u,r)).length+f.length,new Array(l+1).join(" "))+"^"),p}function i(e){return e.replace(/^\t+/,(function(e){return e.split("\t").join("  ")}))}return function(t,n){n>t.length-1&&(n=t.length-1),e.lastIndex=0;var i=function(e,t){for(var n=0,r=0,i=e.length;r<i;r++){var a=(e[r]||"").length;if(n+a>t)return{num:r,line:e[r],start:t-n,prev:e[r-1],next:e[r+1]};n=n+a+1}}(t.split(e),n),a=i.start,s=i.num;return(i.prev?r(i.prev,a,s-1)+"\n":"")+r(i.line,a,s,!0)+"\n"+(i.next?r(i.next,a,s+1)+"\n":"")}}();var c=/\((\?\!|\?\:|\?\=)/g;a.findSubCapture=function(e){var t=0,n=0,r=e.length,i=e.match(c);for(i=i?i.length:0;r--;){var a=e.charAt(r);0!==r&&"\\"===e.charAt(r-1)||("("===a&&t++,")"===a&&n++)}if(t!==n)throw"RegExp: "+e+"'s bracket is not marched";return t-i},a.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,(function(e){return"\\"+e}))};var l=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+a.keys(s).join("|")+"));","gi");a.convertEntity=function(e){return(""+e).replace(l,(function(e,t,n,r){var i;return i=n?parseInt(n.slice(1),10):t?parseInt(t.slice(2),16):s[r],String.fromCharCode(i)}))},a.createObject=Object.create?function(e){return Object.create(e||null)}:function(){function e(){}return function(t){if(!t)return{};e.prototype=t;var n=new e;return e.prototype=null,n}}(),a.createProto=function(e,t){function n(){this.constructor=e}return n.prototype=t,e.prototype=new n},a.removeOne=function(e,t){for(var n=e.length;n--;)if(t(e[n]))return void e.splice(n,1)},a.clone=function(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t}t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},a.equals=function(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t};var f,h,p,d,v,m,g=/-([a-z])/g;a.camelCase=function(e){return e.replace(g,(function(e,t){return t.toUpperCase()}))},a.throttle=function(e,t){t=t||100;var n,r,i,a=null,s=0,o=function(){s=+new Date,a=null,i=e.apply(n,r),n=r=null};return function(){var u=+new Date,c=t-(u-s);return n=this,r=arguments,c<=0||c>t?(clearTimeout(a),a=null,s=u,i=e.apply(n,r),n=r=null):a||(a=setTimeout(o,c)),i}},a.escape=(f=/&/g,h=/</g,p=/>/g,d=/\'/g,v=/\"/g,m=/[&<>\"\']/,function(e){return m.test(e)?e.replace(f,"&amp;").replace(h,"&lt;").replace(p,"&gt;").replace(d,"&#39;").replace(v,"&quot;"):e}),a.cache=function(e){var t=[],n={};return{set:function(e,r){return t.length>this.max&&(n[t.shift()]=void 0),void 0===n[e]&&t.push(e),n[e]=r,r},get:function(e){return void 0===e?n:n[e]},max:e=e||1e3,len:function(){return t.length}}},a.handleEvent=function(e,t){var n,r=this;return"expression"===e.type&&(n=e.get),n?function(e){var t=this;r.$update((function(){var i=this.data;i.$event=e,i.$sender=t,!1===n(r)&&e&&e.preventDefault&&e.preventDefault(),i.$event=void 0,i.$sender=void 0}))}:function(){var t=a.slice(arguments);t.unshift(e),r.$update((function(){r.$emit.apply(r,t)}))}},a.once=function(e){var t=0;return function(){0==t++&&e.apply(this,arguments)}},a.fixObjStr=function(e){return 0!==e.trim().indexOf("{")?"{"+e+"}":e},a.map=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},a.log=function(e,t){"undefined"!=typeof console&&console[t||"log"](e)},a.normListener=function(e){var t=[],n=a.typeOf(e);if("array"===n)return e;if("object"===n)for(var r in e)e.hasOwnProperty(r)&&t.push({type:r,listener:e[r]});return t},a.isVoidTag=a.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),a.isBooleanAttr=a.makePredicate("selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple"),a.isExpr=function(e){return e&&"expression"===e.type},a.isGroup=function(e){return e.inject||e.$inject},a.blankReg=/^\s*$/,a.getCompileFn=function(e,t,n){return function(r){return r&&n?a.extend(r,n):r=n,t.$compile(e,r)}},a.fixTagAST=function(e,t){if(!e.touched){var n=e.attrs;if(n){var r=n.length;if(r){for(var i=[],s={};r--;){var o=n[r];"type"===o.name&&(o.priority=1e4);var u=t.directive(o.name);u?(o.priority=u.priority||1,o.directive=!0,i.push(o)):"attribute"===o.type&&(s[o.name]=o.value)}i.forEach((function(e){var r=t.directive(e.name).param;r&&r.length&&(e.param={},r.forEach((function(t){t in s&&(e.param[t]=void 0===s[t]||s[t],a.removeOne(n,(function(e){return e.name===t})))})))})),n.sort((function(e,t){var n=e.priority,r=t.priority;return null==n&&(n=9999),null==r&&(r=9999),r-n})),e.touched=!0}}}},a.findItem=function(e,t){if(e&&e.length)for(var n=e.length;n--;)if(t(e[n]))return e[n]},a.getParamObj=function(e,t){var n={};if(t)for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n[r]=i&&"expression"===i.type?e.$get(i):i}return n},a.eventReg=/^on-(\w[-\w]*)$/,a.toText=function(e){return null==e?"":""+e},a.escape=function(){var e=/&/g,t=/</g,n=/>/g,r=/\'/g,i=/\"/g,a=/[&<>\"\']/;return function(s){var o;return o=s,s=String(void 0===o||null==o?"":o),a.test(s)?s.replace(e,"&amp;").replace(t,"&lt;").replace(n,"&gt;").replace(r,"&#39;").replace(i,"&quot;"):s}}(),a.simpleDiff=function(e,t){var n=e.length;if(n!==t.length)return!0;for(var r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}}).call(this,n(8),n(20).setImmediate)},function(e,t,n){if("undefined"!=typeof window){var r,i,a=e.exports,s=n(5),o=n(0),u=n(3),c=document.createElement("div"),l=function(){},f=u.NAMESPACE;a.body=document.body,a.doc=document,a.tNode=c;c.addEventListener?(r=function(e,t,n){e.addEventListener(t,n,!1)},i=function(e,t,n){e.removeEventListener(t,n,!1)}):(r=function(e,t,n){e.attachEvent("on"+t,n)},i=function(e,t,n){e.detachEvent("on"+t,n)}),a.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(a.msie)&&(a.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),a.find=function(e){if(document.querySelector)try{return document.querySelector(e)}catch(e){}if(-1!==e.indexOf("#"))return document.getElementById(e.slice(1))},a.inject=function(e,t,n){if(n=n||"bottom",e){if(Array.isArray(e)){var r=e;e=a.fragment();for(var i=0,s=r.length;i<s;i++)e.appendChild(r[i])}var o;switch(n){case"bottom":t.appendChild(e);break;case"top":t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);break;case"after":(o=t.nextSibling)?o.parentNode.insertBefore(e,o):t.parentNode.appendChild(e);break;case"before":t.parentNode.insertBefore(e,t)}}},a.id=function(e){return document.getElementById(e)},a.create=function(e,t){if("svg"===t){if(!s.svg)throw Error("the env need svg support");t=f.svg}return t?document.createElementNS(t,e):document.createElement(e)},a.fragment=function(){return document.createDocumentFragment()};var h={class:function(e,t){"className"in e&&(!e.namespaceURI||e.namespaceURI===f.html)?e.className=t||"":e.setAttribute("class",t)},for:function(e,t){"htmlFor"in e?e.htmlFor=t:e.setAttribute("for",t)},style:function(e,t){e.style?e.style.cssText=t:e.setAttribute("style",t)},value:function(e,t){e.value=null!=t?t:""}};function p(e,t){return void 0!==e[t]?e[t]:e[t]=o.uid()}function d(e,t){return"change"===t&&a.msie<9&&e&&e.tagName&&"input"===e.tagName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)?"click":t}a.attr=function(e,t,n){if(o.isBooleanAttr(t)){if(void 0===n)return e[t]||(e.attributes.getNamedItem(t)||l).specified?t:void 0;n?(e[t]=!0,e.setAttribute(t,t),a.msie&&a.msie<=7&&"checked"===t&&(e.defaultChecked=!0)):(e[t]=!1,e.removeAttribute(t))}else if(void 0!==n)h[t]?h[t](e,n):null===n?e.removeAttribute(t):e.setAttribute(t,n);else if(e.getAttribute){var r=e.getAttribute(t,2);return null===r?void 0:r}},a.on=function(e,t,n){var i=t.split(" "),s=function(t){var r=new g(t);r.origin=e,n.call(e,r)},o=p(e,"_nid");return n._events=n._events||{},i.forEach((function(t){t=d(e,t);var i=o+"-"+t;n._events[i]||(n._events[i]=s),r(e,t,n._events[i])})),a},a.off=function(e,t,n){var r=t.split(" ");if(n&&n._events){var a=p(e,"_nid");r.forEach((function(t){t=d(e,t);var r=a+"-"+t,s=n._events[r]||n;i(e,t,s)}))}},a.text=(x={},a.msie&&a.msie<9?(x[1]="innerText",x[3]="nodeValue"):x[1]=x[3]="textContent",function(e,t){var n=x[e.nodeType];if(null==t)return n?e[n]:"";e[n]=t}),a.html=function(e,t){if(void 0===t)return e.innerHTML;e.innerHTML=t},a.replace=function(e,t){t.parentNode&&t.parentNode.replaceChild(e,t)},a.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},a.css=function(e,t,n){if("object"==typeof t&&t)for(var r in t)t.hasOwnProperty(r)&&a.css(e,r,t[r]);else{var i;if(void 0===n)return a.msie<=8&&""===(i=e.currentStyle&&e.currentStyle[t])&&(i="auto"),i=i||e.style[t],a.msie<=8&&(i=""===i?void 0:i),i;(t=(""+t).replace(/-\D/g,(function(e){return e.charAt(1).toUpperCase()})))&&(e.style[t]=n)}},a.addClass=function(e,t){var n=e.className||"";-1===(" "+n+" ").indexOf(" "+t+" ")&&(e.className=n?n+" "+t:t)},a.delClass=function(e,t){var n=e.className||"";e.className=(" "+n+" ").replace(" "+t+" "," ").trim()},a.hasClass=function(e,t){return-1!==(" "+(e.className||"")+" ").indexOf(" "+t+" ")};var v=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,m=document;function g(e){if((e=e||window.event)._fixed)return e;this.event=e,this.target=e.target||e.srcElement;var t=this.type=e.type,n=this.button=e.button;if(v.test(t)&&(this.pageX=null!=e.pageX?e.pageX:e.clientX+m.scrollLeft,this.pageY=null!=e.pageX?e.pageY:e.clientY+m.scrollTop,"mouseover"===t||"mouseout"===t)){for(var r=e.relatedTarget||e[("mouseover"===t?"from":"to")+"Element"];r&&3===r.nodeType;)r=r.parentNode;this.relatedTarget=r}"DOMMouseScroll"!==t&&"mousewheel"!==t||(this.wheelDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),this.which=e.which||e.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}m=m.compatMode&&"CSS1Compat"!==m.compatMode?m.body:m.documentElement,o.extend(g.prototype,{stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}}),a.nextFrame=(_=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)},y=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(e){clearTimeout(e)},function(e){var t=_(e);return function(){y(t)}}),a.nextReflow=a.msie?function(e){return a.nextFrame((function(){document.body.offsetWidth,e()}))}:a.nextFrame}var _,y,x},function(e,t){e.exports={BEGIN:"{",END:"}",PRECOMPILE:!1}},function(e,t){e.exports={COMPONENT_TYPE:1,ELEMENT_TYPE:2,ERROR:{UNMATCHED_AST:101},MSG:{101:"Unmatched ast and mountNode, report issue at https://github.com/regularjs/regular/issues"},NAMESPACE:{html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},OPTIONS:{STABLE_INIT:{stable:!0,init:!0},FORCE_INIT:{force:!0,init:!0},STABLE:{stable:!0},INIT:{init:!0},SYNC:{sync:!0},FORCE:{force:!0}},DIFF:{REMOVE_ALL:1,ADD_ALL:0}}},function(e,t,n){var r=n(5),i=n(16),a=n(9),s=n(2),o=n(0),u=n(25),c=n(11),l={};if(r.browser){var f=n(1),h=n(26),p=n(19),d=f.doc;l=n(13)}var v=n(27),m=n(28),g=n(12),_=n(29),y=n(3).ERROR,x=n(14),E=(c=n(11),function(){}),T=function(e,t){var n=r.isRunning;r.isRunning=!0;var i,a,s,u,h;t=t||{};var p=(e=e||{}).template;if(r.browser){if((i=b(p))&&(p=i),p&&p.nodeType&&(e.template=p.innerHTML),"string"==typeof(h=e.mountNode)&&!(h=f.find(h)))throw Error("mountNode "+h+" is not found");h?(s=x(h.firstChild,h),delete e.mountNode):s=t.cursor}a=c.initDefinition(this,e),this.$parent&&this.$parent._append(this),this._children=[],this.$refs={},this.$root=this.$root||this;var d,v=t.extra,m=v&&v.$$modify;if(u=this._body){this._body=null;var g=this.modifyBodyComponent;"function"==typeof g?(g=g.bind(this),(d=o.createObject(v)).$$modify=function(e){return g(e,m||E)}):d=v,u.ast&&u.ast.length&&(this.$body=o.getCompileFn(u.ast,u.ctx,{outer:this,namespace:t.namespace,extra:d,record:!0}))}if(a){var _={namespace:t.namespace,cursor:s};_.extra={$$modify:v&&v.$$modify},this.group=this.$compile(a,_),l.node(this)}m&&m(this),this.$parent||this.$update(),this.$ready=!0,this.$emit("$init"),this.init&&this.init(this.data),this.$emit("$afterInit"),r.isRunning=n,this.devtools&&this.devtools.emit("init",this)};if("undefined"!=typeof window){var w=window.__REGULAR_DEVTOOLS_GLOBAL_HOOK__;w&&(T.prototype.devtools=w)}function b(e){var t;if("string"==typeof e&&e.length<16&&(t=f.find(e)))return o.log("pass selector as template has be deprecated, pass node or template string instead","warn"),t}h&&(h.Regular=T),o.extend(T,{_directives:{__regexp__:[]},_plugins:{},_protoInheritCache:["directive","use"],__after__:function(e,t){var n,i,o;(this.__after__=e.__after__,t.name&&T.component(t.name,this),n=t.template)&&(r.browser&&((i=b(n))&&(n=i),n&&n.nodeType&&((o=f.attr(n,"name"))&&T.component(o,this),n=n.innerHTML)),"string"==typeof n&&(this.prototype.template=s.PRECOMPILE?new a(n).parse():n));t.computed&&(this.prototype.computed=c.handleComputed(t.computed)),T._inheritConfig(this,e)},directive:function(e,t){if(e){var n=typeof e;if("object"===n&&!t){for(var r in e)e.hasOwnProperty(r)&&this.directive(r,e[r]);return this}var i,a=this._directives;if(null!=t)return"function"==typeof t&&(t={link:t}),"string"===n?a[e]=t:(t.regexp=e,a.__regexp__.push(t)),"function"!=typeof t.link&&(t.link=E),this;if("string"===n){if(i=a[e])return i;for(var s=a.__regexp__,o=0,u=s.length;o<u;o++){if((i=s[o]).regexp.test(e))return i}}}},plugin:function(e,t){var n=this._plugins;return null==t?n[e]:(n[e]=t,this)},use:function(e){return"string"==typeof e&&(e=T.plugin(e)),"function"!=typeof e?this:(e(this,T),this)},config:function(e,t){var n=!1;if("object"==typeof e)for(var r in e)"END"!==r&&"BEGIN"!==r||(n=!0),s[r]=e[r];n&&i.setup()},expression:g.expression,Parser:a,Lexer:i,_addProtoInheritCache:function(e,t){if(Array.isArray(e))return e.forEach(T._addProtoInheritCache);var n="_"+e+"s";T._protoInheritCache.push(e),T[n]={},T[e]||(T[e]=function(r,i){var a=this[n];if("object"==typeof r){for(var s in r)r.hasOwnProperty(s)&&this[e](s,r[s]);return this}return null==i?a[r]:(a[r]=t?t(i):i,this)})},_inheritConfig:function(e,t){var n=T._protoInheritCache;return o.slice(n).forEach((function(n){e[n]=t[n];var r="_"+n+"s";t[r]&&(e[r]=o.createObject(t[r]))})),e}}),u(T),T._addProtoInheritCache("component"),T._addProtoInheritCache("filter",(function(e){return"function"==typeof e?{get:e}:e})),v.mixTo(T),m.mixTo(T),T.implement({init:function(){},config:function(){},destroy:function(){this.$emit("$destroy"),this._watchers=null,this._watchersForStable=null,this.group&&this.group.destroy(!0),this.group=null,this.parentNode=null,this._children=null,this.$root=null,this._handles=null,this.$refs=null;var e=this.$parent;if(e&&e._children){var t=e._children.indexOf(this);e._children.splice(t,1)}this.$parent=null,this.devtools&&this.devtools.emit("destroy",this),this._handles=null,this.$phase="destroyed"},$compile:function(e,t){t=t||{},"string"==typeof e&&(e=new a(e).parse());var n,r=this.__ext__,i=t.record;t.extra&&(this.__ext__=t.extra),i&&this._record();var s=this._walk(e,t);if(i){n=this._release();var o=this;n.length&&(s.ondestroy=function(){o.$unwatch(n)})}return t.extra&&(this.__ext__=r),s},$bind:function(e,t,n){var r=o.typeOf(t);if("expression"===t.type||"string"===r)this._bind(e,t,n);else if("array"===r)for(var i=0,a=t.length;i<a;i++)this._bind(e,t[i]);else if("object"===r)for(var i in t)t.hasOwnProperty(i)&&this._bind(e,i,t[i]);return e.$update(),this},$unbind:function(){},$inject:l.inject,$mute:function(e){var t=!1===(e=!!e)&&this._mute;return this._mute=!!e,t&&this.$update(),this},_bind:function(e,t,n){var r=this;if(!(e&&e instanceof T))throw"$bind() should pass Regular component as first argument";if(!t)throw"$bind() should  pass as least one expression to bind";if(n||(n=t),t=g.expression(t),(n=g.expression(n)).set){var i=this.$watch(t,(function(t){e.$update(n,t)}));e.$on("$destroy",(function(){r.$unwatch(i)}))}if(t.set){var a=e.$watch(n,(function(e){r.$update(t,e)}));this.$on("$destroy",e.$unwatch.bind(e,a))}n.set(e,t.get(this))},_walk:function(e,t){if(Array.isArray(e)){for(var n=[],r=0,i=e.length;r<i;r++){var a=this._walk(e[r],t);a&&a.code===y.UNMATCHED_AST?(e.splice(r,1),r--,i--):n.push(a)}return new p(n)}return"string"==typeof e?d.createTextNode(e):h[e.type||"default"].call(this,e,t)},_append:function(e){this._children.push(e),e.$parent=this},_handleEvent:function(e,t,n,r){var i,a=this.constructor,s="function"!=typeof n?o.handleEvent.call(this,n,t):n,u=a.event(t);return u?i=u.call(this,e,s,r):f.on(e,t,s),u?i:function(){f.off(e,t,s)}},_touchExpr:function(e,t){t=this.__ext__;var n,r={};if("expression"!==e.type||e.touched)return e;if((n=e.get)||(n=e.get=new Function(o.ctxName,o.extName,o.prefix+"return ("+e.body+")"),e.body=null),r.get=t?function(e,r){return n(e,r||t)}:n,e.setbody&&!e.set){var i=e.setbody,a=e.filters,s=this;a&&o.some(a,(function(e){return!s._f_(e).set}))||(e.set=function(t,n,r){return e.set=new Function(o.ctxName,o.setName,o.extName,o.prefix+i),e.set(t,n,r)}),e.filters=e.setbody=null}return e.set&&(r.set=t?function(n,r){return e.set(n,r,t)}:e.set),r.type="expression",r.touched=!0,r.once=e.once||e.constant,r},_f_:function(e){var t=this.constructor.filter(e);if(!t)throw Error("filter "+e+" is undefined");return t},_sg_:function(e,t,n,r){if(void 0!==e){if(r&&"object"==typeof r&&void 0!==r[e])return r[e];if(null!==t){if(t&&void 0!==t[e])return t[e];if(null!==t){var i=this.computed[e];if(i){if("expression"!==i.type||i.get||this._touchExpr(i),i.get)return i.get(this);o.log("the computed '"+e+"' don't define the get function,  get data."+e+" altnately","warn")}}if(void 0!==n)return n[e]}}},_ss_:function(e,t,n,r,i){r=r||"=";var a,s=(i=this.computed)?i[e]:null;if("="!==r)switch(a=s?s.get(this):n[e],r){case"+=":t=a+t;break;case"-=":t=a-t;break;case"*=":t*=a;break;case"/=":t=a/t;break;case"%=":t=a%t}return s&&s.set?s.set(this,t):(n[e]=t,t)}}),T.prototype.inject=function(){return o.log("use $inject instead of inject","warn"),this.$inject.apply(this,arguments)},T.filter(_),e.exports=T},function(e,t,n){(function(e){var r=n(0);t.svg="undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),t.browser="undefined"!=typeof document&&document.nodeType,t.exprCache=r.cache(1e3),t.node=void 0!==e&&""+e=="[object process]",t.isRunning=!1}).call(this,n(15))},function(e,t,n){var r=n(0),i=n(1),a={},s=n(5);if("undefined"!=typeof window){var o="transitionend",u="animationend",c="transition",l="animation";"ontransitionend"in window||("onwebkittransitionend"in window?(o+=" webkitTransitionEnd",c="webkitTransition"):("onotransitionend"in i.tNode||"Opera"===navigator.appName)&&(o+=" oTransitionEnd",c="oTransition")),"onanimationend"in window||("onwebkitanimationend"in window?(u+=" webkitAnimationEnd",l="webkitAnimation"):"onoanimationend"in i.tNode&&(u+=" oAnimationEnd",l="oAnimation"))}function f(e,t){i.remove(e),t&&t()}function h(e){var t,n=0,r=0,i=0,a=0,s=0;return window.getComputedStyle&&(r=p((t=window.getComputedStyle(e))[c+"Duration"])||r,i=p(t[c+"Delay"])||i,a=p(t[l+"Duration"])||a,s=p(t[l+"Delay"])||s,n=Math.max(r+i,a+s)),1e3*n*(5/3)}function p(e){var t,n=0;return e?(e.split(",").forEach((function(e){(t=parseFloat(e))>n&&(n=t)})),n):0}a.inject=function(e,t,n,a){if(a=a||r.noop,Array.isArray(e)){for(var s=i.fragment(),o=0,u=0,c=e.length;u<c;u++)s.appendChild(e[u]);i.inject(s,t,n);var l=function(){++o===c&&a()};for(c===o&&a(),u=0;u<c;u++)e[u].onenter?e[u].onenter(l):l()}else{if(!e)return;i.inject(e,t,n),e.onenter?e.onenter(a):a()}},a.remove=function(e,t){if(e){var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)a.remove(e[r],s);else"function"==typeof e.onleave?e.onleave((function(){f(e,t)})):f(e,t)}function s(){++n===i&&t&&t()}},a.startClassAnimate=function(e,t,n,a){var c,l,f,p;return!u&&!o||s.isRunning?n():(p=4!==a?r.once((function(){f&&clearTimeout(f),2===a&&i.delClass(e,c),3!==a&&i.delClass(e,t),i.off(e,u,p),i.off(e,o,p),n()})):r.once((function(){f&&clearTimeout(f),n()})),2===a?(i.addClass(e,t),c=r.map(t.split(/\s+/),(function(e){return e+"-active"})).join(" "),i.nextReflow((function(){i.addClass(e,c),l=h(e),f=setTimeout(p,l)}))):4===a?i.nextReflow((function(){i.delClass(e,t),l=h(e),f=setTimeout(p,l)})):i.nextReflow((function(){i.addClass(e,t),l=h(e),f=setTimeout(p,l)})),i.on(e,u,p),i.on(e,o,p),p)},a.startStyleAnimate=function(e,t,n){var a,s,c;return i.nextReflow((function(){i.css(e,t),a=h(e),c=setTimeout(s,a)})),s=r.once((function(){c&&clearTimeout(c),i.off(e,u,s),i.off(e,o,s),n()})),i.on(e,u,s),i.on(e,o,s),s},e.exports=a},function(e,t,n){var r=n(5),i=n(2),a=e.exports=n(4),s=a.Parser,o=a.Lexer;n(30),n(33),n(34),a.dom=n(1),a.env=r,a.util=n(0),a.parse=function(e,t){((t=t||{}).BEGIN||t.END)&&(t.BEGIN&&(i.BEGIN=t.BEGIN),t.END&&(i.END=t.END),o.setup());var n=new s(e).parse();return t.stringify?JSON.stringify(n):n},a.Cursor=n(14),a.isServer=r.node,a.isRegular=function(e){return e.prototype instanceof a}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(0),i=(n(2),n(10)),a=n(16),s=r.varName,o=r.ctxName,u=r.extName,c=r.makePredicate("STRING IDENT NUMBER"),l=r.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),f=r.makePredicate("script style"),h=/\.bind$/;function p(e,t){t=t||{},this.input=e,this.tokens=new a(e,t).lex(),this.pos=0,this.length=this.tokens.length}var d=p.prototype;d.parse=function(){this.pos=0;var e=this.program();return"TAG_CLOSE"===this.ll().type&&this.error("You may got a unclosed Tag"),e},d.ll=function(e){(e=e||1)<0&&(e+=1);var t=this.pos+e-1;return t>this.length-1?this.tokens[this.length-1]:this.tokens[t]},d.la=function(e){return(this.ll(e)||"").type},d.match=function(e,t){var n;if(n=this.eat(e,t))return n;n=this.ll(),this.error("expect ["+e+(null==t?"":":"+t)+']" -> got "['+n.type+(null==t?"":":"+n.value)+"]",n.pos)},d.error=function(e,t){throw e="\n【 parse failed 】 "+e+":\n\n"+r.trackErrorPos(this.input,"number"==typeof t?t:this.ll().pos||0),new Error(e)},d.next=function(e){e=e||1,this.pos+=e},d.eat=function(e,t){var n=this.ll();if("string"!=typeof e){for(var r=e.length;r--;)if(n.type===e[r])return this.next(),n}else if(n.type===e&&(void 0===t||n.value===t))return this.next(),n;return!1},d.program=function(e){for(var t=[],n=this.ll();"EOF"!==n.type&&"TAG_CLOSE"!==n.type;)if(t.push(this.statement()),n=this.ll(),e&&"END"===n.type)return this.next(),i.body(t);return t};var v=/\r\n/g;function m(e,t){return{get:e,set:t}}d.statement=function(){var e=this.ll();switch(e.type){case"NAME":case"TEXT":var t=e.value;for(this.next();e=this.eat(["NAME","TEXT"]);)t+=e.value;return i.text(t.replace(v,"\n"));case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},d.xml=function(){var e,t,n,a;return e=this.match("TAG_OPEN").value,f(e)&&this.error("Invalid Tag: "+e),t=this.attrs(),a=this.eat("/"),this.match(">"),a||r.isVoidTag(e)||(n=this.program(),this.eat("TAG_CLOSE",e)||this.error("expect </"+e+"> gotno matched closeTag")),i.element(e,t,n)},d.xentity=function(e){var t,n,r=e.value;if("NAME"===e.type){if(~r.indexOf(".")){var a=r.split(".");r=a[0],n=a[1]}return this.eat("=")&&(t=this.attvalue(n)),i.attribute(r,t,n)}return"if"!==r&&this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+r+" is invalid"),this.if(!0)},d.attrs=function(e){var t;t=e?["NAME"]:["NAME","OPEN"];for(var n,r=[];n=this.eat(t);)r.push(this.xentity(n));return r},d.attvalue=function(e){var t=this.ll();switch(t.type){case"NAME":case"UNQ":case"STRING":return this.next(),t.value;case"EXPR_OPEN":return this.interplation();case"BODY_OPEN":return this.next(),this.program(!0);default:this.error("Unexpected token: "+this.la())}},d.directive=function(){var e=this.ll().value;if(this.next(),"function"==typeof this[e])return this[e]();this.error("Undefined directive["+e+"]")},d.interplation=function(){this.match("EXPR_OPEN");var e=this.expression(!0);return this.match("END"),e},d.inc=d.include=function(){var e=this.expression();return this.match("END"),i.template(e)},d.if=function(e){var t,n,r=this.expression(),a=[],s=[],o=a,u=e?"attrs":"statement";for(this.match("END");!(n=this.eat("CLOSE"));)if("OPEN"===(t=this.ll()).type)switch(t.value){case"else":o=s,this.next(),this.match("END");break;case"elseif":return this.next(),s.push(this.if(e)),i.if(r,a,s);default:o.push(this[u](!0))}else o.push(this[u](!0));return"if"!==n.value&&this.error("Unmatched if directive"),i.if(r,a,s)},d.list=function(){var e,t,n,r=this.expression(),a=[],s=[],o=a;for(this.match("IDENT","as"),e=this.match("IDENT").value,this.eat("IDENT","by")&&(this.eat("IDENT",e+"_key")&&this.error("can not track by "+e+"_key in list statement"),this.eat("IDENT",e+"_index")?n=!0:(n=this.expression()).constant&&(n=!0)),this.match("END");!(t=this.eat("CLOSE"));)this.eat("OPEN","else")?(o=s,this.match("END")):o.push(this.statement());return"list"!==t.value&&this.error("expect list got /"+t.value+" ",t.pos),i.list(r,e,a,s,n)},d.expression=function(){var e;return this.eat("@(")?((e=this.expr()).once=!0,this.match(")")):e=this.expr(),e},d.expr=function(){this.depend=[];var e=this.filter(),t=e.get||e,n=e.set;return i.expression(t,n,!this.depend.length,e.filters)},d.filter=function(){var e,t,n,i=this.assign(),a=this.eat("|"),s=[],u=i.set,c="";if(a){u&&(t=[],e=[]),"(function(t){";do{var l=this.match("IDENT").value;c="t = "+o+"._f_('"+l+"' ).get.call( "+r.ctxName+",t",this.eat(":")?c+=", "+this.arguments("|").join(",")+");":c+=");",s.push(c),u&&(e.push(l),t.unshift(c.replace(" ).get.call"," ).set.call")))}while(a=this.eat("|"));s.push("return t"),t&&t.push("return t"),n="(function(t){"+s.join("")+"})("+i.get+")",t&&(u=u.replace(r.setName,"(function(t){"+t.join("")+"})("+r.setName+")"));var f=m(n,u);return f.filters=e,f}return i},d.assign=function(){var e,t=this.condition();return(e=this.eat(["=","+=","-=","*=","/=","%="]))?(t.set||this.error("invalid lefthand expression in assignment expression"),m(t.set.replace(","+r.setName,","+this.condition().get).replace("'='","'"+e.type+"'"),t.set)):t},d.condition=function(){var e=this.or();return this.eat("?")?m([e.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):e},d.or=function(){var e=this.and();return this.eat("||")?m(e.get+"||"+this.or().get):e},d.and=function(){var e=this.equal();return this.eat("&&")?m(e.get+"&&"+this.and().get):e},d.equal=function(){var e,t=this.relation();return(e=this.eat(["==","!=","===","!=="]))?m(t.get+e.type+this.equal().get):t},d.relation=function(){var e,t=this.additive();return(e=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?m(t.get+e.value+this.relation().get):t},d.additive=function(){var e,t=this.multive();return(e=this.eat(["+","-"]))?m(t.get+e.value+this.additive().get):t},d.multive=function(){var e,t=this.range();return(e=this.eat(["*","/","%"]))?m(t.get+e.type+this.multive().get):t},d.range=function(){var e,t=this.unary();return this.eat("..")?(e=this.unary(),m("(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+t.get+","+e.get+")")):t},d.unary=function(){var e;return(e=this.eat(["+","-","~","!"]))?m("("+e.type+this.unary().get+")"):this.member()},d.member=function(e,t,n,i){var a,l,f=!1;e?"string"==typeof t&&c(t)?n.push(t):(n&&n.length&&this.depend.push(n),n=null):"string"===typeof(l=this.primary())?((n=[]).push(l),t=l,e=o+"._sg_('"+l+"', undefined, "+s+", "+u+")",f=!0):"this"===l.get?(e=o,n=["this"]):(n=null,e=l.get);if(a=this.eat(["[",".","("]))switch(a.type){case".":var p=this.match("IDENT").value;return i=e,"("!==this.la()?e=o+"._sg_('"+p+"', "+e+" || null)":e+="."+p,this.member(e,p,n,i);case"[":return l=this.assign(),i=e,"("!==this.la()?e=o+"._sg_("+l.get+", "+e+" || null)":e+="["+l.get+"]",this.match("]"),this.member(e,l,n,i);case"(":return e=(e=e.replace(h,".__bind__"))+"("+this.arguments().join(",")+")",this.match(")"),this.member(e,null,n)}n&&n.length&&this.depend.push(n);var d={get:e};return t&&(d.set=o+"._ss_("+(t.get?t.get:"'"+t+"'")+","+r.setName+","+(i||r.varName)+", '=', "+(f?1:0)+")"),d},d.arguments=function(e){e=e||")";var t=[];do{this.la()!==e&&t.push(this.assign().get)}while(this.eat(","));return t},d.primary=function(){var e=this.ll();switch(e.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":this.next();var t=""+e.value,n=~t.indexOf("'")?'"':"'";return m(n+t+n);case"NUMBER":return this.next(),m(""+e.value);case"IDENT":return this.next(),l(e.value)?m(e.value):e.value;default:this.error("Unexpected Token: "+e.type)}},d.object=function(){for(var e=[this.match("{").type],t=this.eat(["STRING","IDENT","NUMBER"]);t;){e.push("'"+t.value+"'"+this.match(":").type);var n=this.assign().get;e.push(n),t=null,this.eat(",")&&(t=this.eat(["STRING","IDENT","NUMBER"]))&&e.push(",")}return e.push(this.match("}").type),{get:e.join("")}},d.array=function(){var e,t=[this.match("[").type];if(this.eat("]"))t.push("]");else{for(;(e=this.assign())&&(t.push(e.get),this.eat(","));)t.push(",");t.push(this.match("]").type)}return{get:t.join("")}},d.paren=function(){this.match("(");var e=this.filter();return e.get="("+e.get+")",e.set=e.set,this.match(")"),e},e.exports=p},function(e,t){e.exports={element:function(e,t,n){return{type:"element",tag:e,attrs:t,children:n}},attribute:function(e,t,n){return{type:"attribute",name:e,value:t,mdf:n}},if:function(e,t,n){return{type:"if",test:e,consequent:t,alternate:n}},list:function(e,t,n,r,i){return{type:"list",sequence:e,alternate:r,variable:t,body:n,track:i}},expression:function(e,t,n,r){return{type:"expression",body:e,constant:n||!1,setbody:t||!1,filters:r}},body:function(e){return{type:"body",body:e}},text:function(e){return{type:"text",text:e}},template:function(e){return{type:"template",content:e}}}},function(e,t,n){var r=n(0),i=n(2),a=n(12),s=n(10);var o=function(){function e(e){return function(t){return e.call(t,t.data)}}function t(e){return function(t,n){return e.call(t,n,t.data),n}}return function(n){if(n){var r,i,s,o={};for(var u in n)s=typeof(r=n[u]),"expression"!==r.type?"string"===s?o[u]=a.expression(r):(i=o[u]={type:"expression"},"function"===s?i.get=e(r):(r.get&&(i.get=e(r.get)),r.set&&(i.set=t(r.set)))):o[u]=r;return o}}}();e.exports={initDefinition:function(e,t,n){var i,s=!!t.computed,u="string"==typeof e.template&&t.template;t.data=t.data||{},t.computed=t.computed||{},e.data&&r.extend(t.data,e.data),e.computed&&r.extend(t.computed,e.computed);var c,l=e._eventListeners||[];return t.events&&((c=r.normListener(t.events)).length&&(l=l.concat(c)),delete t.events),t.data=t.data||{},t.computed=t.computed||{},e.data&&r.extend(t.data,e.data),e.computed&&r.extend(t.computed,e.computed),u="string"==typeof e.template&&!t.template,r.extend(e,t,!0),l&&l.length&&l.forEach((function(t){e.$on(t.type,t.listener)})),n&&n(),s&&(e.computed=o(e.computed)),e.$emit("$config",e.data),e.config&&e.config(e.data),e.$emit("$afterConfig",e.data),"string"==typeof(i=e.template)&&(i=a.parse(i),u?e.constructor.prototype.template=i:delete e.template),i},handleComputed:o,prepareAttr:function(e,t){if(e.parsed)return e;var n,r,o=e.value;if(e.name,"string"==typeof o&&~o.indexOf(i.BEGIN)&&~o.indexOf(i.END)&&(!t||!t.nps)){var u=a.parse(o,{mode:2});1===u.length&&"expression"===u[0].type?n=u[0]:(r=!0,n=[],u.forEach((function(e){e.constant||(r=!1),n.push(e.body||"'"+e.text.replace(/'/g,"\\'")+"'")})),n=s.expression("["+n.join(",")+"].join('')",null,r)),e.value=n}return e.parsed=!0,e}}},function(e,t,n){var r=n(5).exprCache,i=(n(0),n(9));e.exports={expression:function(e,t){if("string"==typeof e&&(e=e.trim())&&(e=r.get(e)||r.set(e,new i(e,{mode:2,expression:!0}).expression())),e)return e},parse:function(e){return new i(e).parse()}}},function(e,t,n){var r=n(1),i=n(6),a=e.exports={node:function(e){var t,n;if(e){if("function"==typeof e.node)return e.node();if("number"==typeof e.nodeType)return e;if(e.group)return a.node(e.group);if(e=e.children||e,Array.isArray(e)){if(1===(i=e.length))return a.node(e[0]);n=[];for(var r=0,i=e.length;r<i;r++)if(t=a.node(e[r]),Array.isArray(t))for(var s=0,o=t.length;s<o;s++)n.push(t[s]);else t&&n.push(t);return n}}},inject:function(e,t){var n=a.node(this.group||this);if(!1===e)return i.remove(n),this;if(!n)return this;if("string"==typeof e&&(e=r.find(e)),!e)throw Error("injected node is not found");if(i.inject(n,e,t),this.$emit){var s=this.parentNode,o="after"===t||"before"===t?e.parentNode:e;this.parentNode=o,this.$emit("$inject",e,t,s)}return this},last:function(e){var t=e.children;return"function"==typeof e.last?e.last():"number"==typeof e.nodeType?e:t&&t.length?a.last(t[t.length-1]):e.group?a.last(e.group):void 0},destroy:function(e,t){if(e){if("number"==typeof e.nodeType)return t&&r.remove(e);if("function"==typeof e.destroy)return e.destroy(t);if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)a.destroy(e[n],t)}}};r.element=function(e,t){if(!e)return t?[]:null;var n=a.node(e);if(1===n.nodeType)return t?[n]:n;for(var r=[],i=0;i<n.length;i++){var s=n[i];if(s&&1===s.nodeType){if(!t)return s;r.push(s)}}return t?r:r[0]}},function(e,t){function n(e,t){this.node=e,this.parent=t}n.prototype.next=function(){return this.prev=this.node,this.node=this.node.nextSibling,this},e.exports=function(e,t){return new n(e,t)}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||o(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r,i,a=n(0),s=n(2),o=n(24),u={"}":"{","]":"["},c={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\t\f ]/},l=/a|(b)/.exec("a"),f=l&&void 0===l[1]?function(e){return void 0!==e}:function(e){return!!e};function h(e){return function(t){return{type:e,value:t}}}function p(e,t){u[s.END]&&(this.markStart=u[s.END],this.markEnd=s.END),this.input=e||"",this.opts=t||{},this.syntaxSets=o(),this.state=o(),this.map=2!==this.opts.mode?r:i,this.syntaxSets.enter("INIT"),t&&t.expression&&(this.syntaxSets.enter("JST"),this.expression=!0)}var d=p.prototype;function v(e){for(var t,n,r={},i=0,s=e.length;i<s;i++)(r[n=(t=e[i])[2]||"INIT"]||(r[n]={rules:[],links:[]})).rules.push(t);return function(e){var t,n,r,i,s,o,u;function l(e,t){return"string"==typeof c[t]?a.escapeRegExp(c[t]):String(c[t]).slice(1,-1)}for(var f in e){(t=e[f]).curIndex=1,n=t.rules,r=[];for(var p=0,d=n.length;p<d;p++)u=n[p],s=u[0],"string"==typeof(i=u[1])&&(i=h(i)),"regexp"===a.typeOf(s)&&(s=s.toString().slice(1,-1)),s=s.replace(/\{(\w+)\}/g,l),o=a.findSubCapture(s)+1,t.links.push([t.curIndex,o,i]),t.curIndex+=o,r.push(s);t.TRUNK=new RegExp("^(?:("+r.join(")|(")+"))")}return e}(r)}d.lex=function(e){e=e||this.input;var t=/^\s*/.exec(e);e=e.trim();var n,r,i,a,s,o=[];this.input=e,this.marks=0,this.index=t?t[0].length:0;for(;e;)s=this.syntaxSets.get(),(r=(n=this.map[s]).TRUNK.exec(e))||this.error("Unrecoginized Token"),i=r[0].length,e=e.slice(i),(a=this._process.call(this,r,n,e))&&o.push(a),this.index+=i;return o.push({type:"EOF"}),o},d.error=function(e){throw Error("Parse Error: "+e+":\n"+a.trackErrorPos(this.input,this.index))},d._process=function(e,t,n){for(var r,i=t.links,s=!1,o=i.length,u=0;u<o;u++){var c=i[u],l=c[2],h=c[0];if(f(e[h])){s=!0,l&&(r=l.apply(this,a.slice(e,h,h+c[1])))&&(r.pos=this.index);break}}if(!s)switch(n.charAt(0)){case"<":this.syntaxSets.enter("TAG");break;default:this.syntaxSets.enter("JST")}return r},p.setup=function(){c.END=s.END,c.BEGIN=s.BEGIN,r=v([m.BODY_END,m.ENTER_JST,m.ENTER_TAG,m.TEXT,m.TAG_NAME,m.TAG_OPEN,m.TAG_CLOSE,m.TAG_PUNCHOR,m.TAG_ENTER_JST,m.TAG_UNQ_VALUE,m.TAG_STRING,m.TAG_SPACE,m.TAG_COMMENT,m.JST_OPEN,m.JST_BODY_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT]),i=v([m.BODY_END,m.ENTER_JST2,m.TEXT,m.JST_OPEN,m.JST_BODY_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT])};var m={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(e){if(this.syntaxSets.enter("JST"),e)return{type:"TEXT",value:e}}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(e){if(this.syntaxSets.enter("JST"),e)return{type:"TEXT",value:e}}],ENTER_TAG:[/[^\x00]*?(?=<[\w\/\!])/,function(e){if(this.syntaxSets.enter("TAG"),e)return{type:"TEXT",value:e}}],BODY_END:[/{SPACE}*{END}/,function(e){var t=this.syntaxSets.all();return"JST"===t[t.length-2]?(this.syntaxSets.leave("INIT"),this.syntaxSets.leave("JST"),{type:"END"}):{type:"TEXT",value:e}}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f\t ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(e,t){return{type:"TAG_OPEN",value:t}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f\t ]*>/,function(e,t){return this.syntaxSets.leave(),{type:"TAG_CLOSE",value:t}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.syntaxSets.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(e){return">"===e&&this.syntaxSets.leave(),{type:e,value:e}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)\"/,function(e,t,n){return{type:"STRING",value:t||n||""}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,function(e){this.syntaxSets.leave()},"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(e,t){return this.state.enter("JST_OPEN"),{type:"OPEN",value:t}},"JST"],JST_BODY_OPEN:["{BEGIN}~{SPACE}*",function(e,t){return this.syntaxSets.enter("INIT"),{type:"BODY_OPEN",value:t}},"JST"],JST_LEAVE:[/{END}/,function(e){return this.markEnd===e&&this.expression?{type:this.markEnd,value:this.markEnd}:this.markEnd&&this.marks?(this.marks--,{type:this.markEnd,value:this.markEnd}):(this.state.leave("JST_OPEN"),this.state.leave("JST_EXPR_OPEN"),this.syntaxSets.leave("JST"),{type:"END"})},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(e,t){return this.syntaxSets.leave("JST"),{type:"CLOSE",value:t}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.syntaxSets.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(e,t){if(e===this.markStart){if(this.expression)return{type:this.markStart,value:this.markStart};if(this.state.is("JST_OPEN")||this.state.is("JST_EXPR_OPEN")||this.marks)return this.marks++,{type:this.markStart,value:this.markStart};this.state.enter("JST_EXPR_OPEN")}return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(e){return{type:e,value:e}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(e,t,n){return{type:"STRING",value:t||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(e){return{type:"NUMBER",value:parseFloat(e,10)}},"JST"]};p.setup(),e.exports=p},function(e,t,n){var r=n(0),i=n(18);function a(e,t){return e===t}function s(e,t,n,i){if(!n)return r.simpleDiff(e,t);for(var s=function(e,t,n){for(var r=e.length,i=t.length,s=(n=n||a,[]),o=0;o<=r;o++)s.push([o]);for(var u=1;u<=i;u++)s[0][u]=u;for(o=1;o<=r;o++)for(u=1;u<=i;u++)n(e[o-1],t[u-1])?s[o][u]=s[o-1][u-1]:s[o][u]=Math.min(s[o-1][u]+1,s[o][u-1]+1);return s}(t,e,i),o=m=t.length,u=e.length,c=u,l=[],f=s[o][c];o>0||c>0;)if(0!==o)if(0!==c){var h=s[o-1][c-1],p=s[o-1][c],d=s[o][c-1],v=Math.min(d,p,h);v===p?(l.unshift(2),o--,f=p):v===h?(h===f?l.unshift(0):(l.unshift(1),f=h),o--,c--):(l.unshift(3),c--,f=d)}else l.unshift(2),o--;else l.unshift(3),c--;var m=0;u=0;var g=[],_={index:null,add:0,removed:[]};for(o=0;o<l.length;o++)switch(l[o]>0?null===_.index&&(_.index=u):null!=_.index&&(g.push(_),_={index:null,add:0,removed:[]}),l[o]){case 0:m++,u++;break;case 3:_.add++,u++;break;case 2:_.removed.push(t[m]),m++;break;case 1:_.add++,_.removed.push(t[m]),m++,u++}return null!=_.index&&g.push(_),g}e.exports={diffArray:s,diffObject:function(e,t,n,a,o){if(n){var u=r.values(e),c=r.values(t);return"function"==typeof a?i(u,c,a,o):s(u,c,n)}for(var l in e)if(t[l]!==e[l])return!0;for(var f in t)if(t[f]!==e[f])return!0;return!1},diffTrack:i}},function(e,t,n){var r=n(0),i=n(3).DIFF;i.ADD_ALL,i.REMOVE_ALL;function a(e,t,n,r,i){r=r||1;var a=e[e.length-1];return a&&a.mode===t&&(0===t&&a.index===n||1===t&&a.index+a.len===n)?(a.len++,e):(e.push({mode:t,index:n,len:r}),e)}function s(e,t,n,r){a(t,1,n,r),e.splice(n,0,null)}function o(e,t,n,r){a(t,0,n,r),e.splice(n,1)}function u(e,t){for(var n=[],r={},i=0,a=e.length;i<a;i++){e[i];var s=t(e[i]);r.hasOwnProperty(s)?n.push(i):r[s]=i}return{untrack:n,trackMap:r}}e.exports=function(e,t,n){var i=t.length,c=e.length,l=[],f={isTrack:!0,steps:l};if(!r.simpleDiff(e,t))return f;if(f.dirty=!0,i&&!c)return a(l,0,0,i),f;if(c&&!i)return a(l,1,0,c),f;var h=r.slice(t),p=u(e,n),d=u(t,n),v=p.trackMap,m=d.trackMap,g={},_=d.untrack,y=_.length;if(y)for(;y--;){_[y];o(h,l,_[y])}for(var x=h.length,E=0;E<x;E++){var T=n(h[E]);v.hasOwnProperty(T)||(g[T]=m[T],o(h,l,E),E--,x--)}for(var w=e.length,b=(E=0,0);b<w;)if(E>=h.length)s(h,l,E,1),E++,b++;else{T=n(h[E]);n(e[b])!==T?(s(h,l,E,1),E++,b++):(E++,b++)}var N=h.length;if(b<N){a(l,0,b,N-b);for(var $=b;$<N;$++){g[T=n(h[$])]=m[T]}}return f.oldKeyMap=g,f}},function(e,t,n){var r=n(0),i=n(13);function a(e){this.children=e||[]}var s=r.extend(a.prototype,{destroy:function(e){i.destroy(this.children,e),this.ondestroy&&this.ondestroy(),this.children=null},get:function(e){return this.children[e]},push:function(e){this.children.push(e)}});s.inject=s.$inject=i.inject,e.exports=a},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(21),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,s,o,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){a.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(8),n(15))},function(e,t){var n=[].slice,r={}.toString;function i(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return t}e.exports=function(){i(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),i(Array.prototype,{indexOf:function(e,t){for(var n=t=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},forEach:function(e,t){var n=0,r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(;n<i;){var a;n in r&&(a=r[n],e.call(t,a,n,r)),n++}},filter:function(e,t){var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],a=0;a<r;a++)if(a in n){var s=n[a];e.call(t,s,a,n)&&i.push(s)}return i}}),i(Function.prototype,{bind:function(e){var t=this,r=n.call(arguments,1);return function(){var i=r.concat(n.call(arguments));return t.apply(e,i)}},__bind__:function(e){return this.__binding__?this.__binding__:this.__binding__=this.bind.apply(this,arguments)}}),i(Array,{isArray:function(e){return"[object Array]"===r.call(e)}})}},function(e,t){e.exports={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364}},function(e,t){e.exports=function(){return{_stack:[],enter:function(e){return this._stack.push(e),this},leave:function(e){var t=this._stack;return e&&t[t.length-1]!==e||t.pop(),this},get:function(){var e=this._stack;return e[e.length-1]},all:function(){return this._stack},is:function(e){var t=this._stack;return t[t.length-1]===e}}}},function(e,t,n){var r=n(0),i=/xy/.test((function(){}))?/\bsupr\b/:/.*/,a=function(e){return"function"==typeof e},s={events:function(e,t){var n=t._eventListeners||[],i=r.normListener(e);i.length&&(t._eventListeners=n.concat(i)),delete t.events}};function o(e,t,n){return function(){var r=this.supr;this.supr=n[e];var i=t.apply(this,arguments);return this.supr=r,i}}var u=["data","computed"],c=u.length;e.exports=function e(t){t=t||{};var n,l=this,f=l&&l.prototype||{};if("function"==typeof t)return n=t.prototype,t.implement=p,t.extend=e,t;function h(){l.apply(this,arguments)}function p(e){for(var t=c;t--;){var l=u[t];n[l]&&e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&(r.extend(n[l],e[l],!0),delete e[l])}return function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(s.hasOwnProperty(r)&&s[r](t[r],e,n),e[r]=a(t[r])&&a(n[r])&&i.test(t[r])?o(r,t[r],n):t[r])}(n,e,f),this}return n=r.createProto(h,f),h.implement=p,h.implement(t),l.__after__&&l.__after__.call(h,l,t),h.extend=e,h}},function(e,t,n){var r=n(17).diffArray,i=n(13),a=n(6),s=(n(9),n(10),n(19)),o=n(1),u=n(0),c=n(3),l=c.OPTIONS,f=c.ERROR,h=c.MSG,p=n(14),d=(n(2),n(11)),v=(n(3).DIFF,e.exports={});function m(e,t){return"array"===t?e:"object"===t?u.keys(e):[]}v.list=function(e,t){v.Regular;var n,c,l=document.createComment("Regular list"),f=t.namespace,h=t.extra,p=this,d=new s([l]),g=d.children,_=e.variable+"_index",x=e.variable+"_key",E=e.variable,T=e.alternate,w=e.track,b=t.cursor;function N(e,t,r,i){for(var a=1;a<=t;a++){var s=r[e+a];if(i){var o=n(s.data[E]);if(void 0!==i[o]){null!==i[o]&&s.inject(!1);continue}}s.destroy(!0)}r.splice(e+1,t)}function $(r,s,c,l,v){for(var m=r;m<s;m++){var _=c[m],y=null;if(v){var x=n(_);(y=v[x])&&(v[x]=null)}var E=!!y;if(E)S(y.data,m,_);else{var T=u.createObject(h);S(T,m,_,l),(y=p.$compile(e.body,{extra:T,namespace:f,record:!0,outer:t.outer,cursor:b})).data=T}var w=i.last(d.get(m));!w.parentNode||b&&b.node||(E?o:a).inject(i.node(y),w,"after"),g.splice(m+1,0,y)}}function S(e,t,n,r){e[_]=t,r?(e[x]=n,e[E]=r[n]):(e[E]=n,e[x]=null)}function O(e,t,n,r){for(var i=e;i<t;i++){var a=d.get(i+1),s=n[i];S(a.data,i,s,r)}}return y(l,b),w&&!0!==w&&(w=this._touchExpr(w),c=u.createObject(h),n=function(e,t){return c[E]=e,w.get(p,c)}),this.$watch(e.sequence,(function(e,n,s,o,c){var v,y=u.typeOf(e),x=u.typeOf(n),b=m(e,y),S=m(n,x),A=b&&b.length,C=S&&S.length;if("object"===y&&(v=e),!C&&A){if(d.get(1)){var k=g.pop();k.destroy&&k.destroy(!0)}return $(0,A,b,v)}if(A)if(w)if(!0===w||c&&!s.length)!function(e,t,n){var r=e.length,i=t.length;O(0,Math.min(r,i),e,n),r<i?N(r,i-r,g):r>i&&$(i,r,e,n)}(b,S,v);else{if(o)for(var I in o){var P=o[I];g[P+1]&&(o[I]=g[P+1])}!function(e,t,n,r,i){for(var a=0,s=n.length;a<s;a++){var o=n[a];switch(o.mode){case 0:N(o.index,o.len,d.children,i);break;case 1:$(o.index,o.index+o.len,e,r,i)}}for(var u=d.children,c=1,l=u.length;c<l;c++){var f=u[c];f&&(f.data[E]=e[c-1],f.data[_]=c-1)}}(b,0,s,v,o)}else!function(e,t,n,i){var a=0,s=e.length;if(n||0===s&&0===t.length||(n=r(e,t,!0)),n&&n.length){for(var o=0;o<n.length;o++){var u=n[o],c=u.index,l=u.removed,f=u.add,h=l.length;O(a,c,e,i),N(c,h,g),$(c,c+f,e,i),a=(a=c+f-h)<0?0:a}if(a<s)for(o=a;o<s;o++){d.get(o+1).data[_]=o}}}(b,S,s,v);else if(C&&N(0,C,d.children),T&&T.length){var R=p.$compile(T,{extra:h,record:!0,outer:t.outer,namespace:f});g.push(R),l.parentNode&&a.inject(i.node(R),l,"after")}}),{init:!0,keyOf:n,diff:!0!==w,deep:!0}),b=null,d},v.template=function(e,t){var n,r=e.content,i=document.createComment("inlcude"),a=t.namespace,o=t.extra,u=new s([i]),c=t.cursor;if(y(i,c),r){var f=this;this.$watch(r,(function(e){var r=u.get(1),s=typeof e;r&&(r.destroy(!0),u.children.pop()),e&&(u.push(n="function"===s?e(c?{cursor:c}:null):f.$compile("object"!==s?String(e):e,{record:!0,outer:t.outer,namespace:a,cursor:c,extra:o})),i.parentNode&&!c&&n.$inject(i,"before"))}),l.INIT),c=null}return u};var g=0;function _(e,t,n){for(var r=[],i=0,a=e.length;i<a;i++){var s=this._walk(e[i],{element:t,fromElement:!0,attrs:e,extra:n});s&&r.push(s)}return r}function y(e,t){t&&(t.node?o.inject(e,t.node,"before"):t.prev?(o.inject(e,t.prev,"after"),t.prev=e):t.parent&&(o.inject(e,t.parent),t.prev=e))}v.if=function(e,t){var n,r,o=this,u=t.extra;if(t&&t.element){var c=function(a){a?(r&&i.destroy(r),e.consequent&&(n=o.$compile(e.consequent,{record:!0,element:t.element,extra:u}))):(n&&i.destroy(n),e.alternate&&(r=o.$compile(e.alternate,{record:!0,element:t.element,extra:u})))};return this.$watch(e.test,c,l.FORCE),{destroy:function(){n?i.destroy(n):r&&i.destroy(r)}}}var f=document.createComment("Regular if"+g++),h=new s;h.push(f);var p=null,d=t.namespace,v=t.cursor;y(f,v);c=function(n,r){var s,c=!!n;if(c!==p){p=c,h.children[1]&&(h.children[1].destroy(!0),h.children.pop());var l={record:!0,outer:t.outer,namespace:d,extra:u,cursor:v};c?e.consequent&&e.consequent.length&&(s=o.$compile(e.consequent,l)):e.alternate&&e.alternate.length&&(s=o.$compile(e.alternate,l)),s&&(h.push(s),f.parentNode&&!v&&a.inject(i.node(s),f,"before")),v=null}};return this.$watch(e.test,c,l.FORCE_INIT),h},v._handleMountText=function(e,t){var n,r=e.node,i=o.text(r);if(i===t)n=r,e.next();else{var a=i.indexOf(t);if(!~a)throw Error(h[f.UNMATCHED_AST]);n=document.createTextNode(t),o.text(r,i.slice(a+t.length)),o.inject(n,r,"before")}return n},v.expression=function(e,t){var n,r=t.cursor;if(r&&r.node){var i=u.toText(this.$get(e));n=v._handleMountText(r,i)}else n=document.createTextNode("");return this.$watch(e,(function(e){o.text(n,u.toText(e))}),l.STABLE_INIT),n},v.text=function(e,t){var n,r=t.cursor,i=e.text,a=-1!==i.indexOf("&")?u.convertEntity(i):i;if(r&&r.node)if(3!==r.node.nodeType){if(u.blankReg.test(a))return{code:f.UNMATCHED_AST}}else n=v._handleMountText(r,a);return n||document.createTextNode(a)},v.element=function(e,t){var n,r,s,c=e.attrs,l=this.constructor,d=e.children,m=t.namespace,g=t.extra,y=t.cursor,x=e.tag,E=l.component(x);if("r-content"===x)return u.log("r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)","warn"),this.$body&&this.$body(y?{cursor:y}:null);if(y&&y.node&&3===y.node.nodeType)if(u.blankReg.test(o.text(y.node)))y.next();else if(!E&&"r-component"!==x)throw Error(h[f.UNMATCHED_AST]);if(E||"r-component"===x)return t.Component=E,v.component.call(this,e,t);if(y&&(s=y.node),"svg"===x&&(m="svg"),d&&d.length&&!function(e){for(var t=e.length;t--;){if("r-html"===e[t].name)return!0}}(c)){var T=s?s.firstChild:null;n=this.$compile(d,{extra:g,outer:t.outer,namespace:m,cursor:p(T,s)})}s?(r=s,y.next()):r=o.create(x,m,c),!n||u.isVoidTag(x)||s||a.inject(i.node(n),r),u.fixTagAST(e,l);var w=_.call(this,c,r,g);return{type:"element",group:n,node:function(){return r},last:function(){return r},destroy:function(e){e?a.remove(r,n?n.destroy.bind(n):u.noop):n&&n.destroy(),w.length&&w.forEach((function(e){e&&("function"==typeof e.destroy?e.destroy():e())}))}}},v.component=function(e,t){for(var n,r,a,o,c=e.attrs,f=t.Component,h=t.cursor,p=this.constructor,m=t.extra,g=t.namespace,_=v.Regular.directive("ref"),y=this,x={},E=0,T=c.length;E<T;E++){var w=c[E];d.prepareAttr(w,"ref"===w.name&&_),(k=this._touchExpr(void 0===w.value||w.value)).constant&&(k=w.value=k.get(this)),w.value&&!0===w.value.constant&&(k=k.get(this));var b,N=w.name;if(!w.event){var $=N.match(u.eventReg);$&&(w.event=$[1])}if("cmpl"===w.mdf&&(k=u.getCompileFn(k,this,{record:!0,namespace:g,extra:m,outer:t.outer})),k&&"body"===k.type&&(k=u.getCompileFn(k.body,this,{record:!0,namespace:g,extra:m,outer:t.outer})),"is"===N&&!f){a=k;var S=this.$get(k,!0);if("function"!=typeof(f=p.component(S)))throw new Error("component "+S+" has not registed!")}(b=w.event)?(o=o||{})[b]=u.handleEvent.call(this,k,b):(N=w.name=u.camelCase(N),k&&"expression"===k.type?x[N]=k.get(y):x[N]=k,"ref"===N&&null!=k&&(r=k),"isolate"===N&&(n="expression"===k.type?k.get(y):parseInt(!0===k?3:k,10),x.isolate=n))}var O={data:x,events:o,$parent:2&n?null:this,$root:this.$root,$outer:t.outer,_body:{ctx:this,ast:e.children}},A=(t={namespace:g,cursor:h,extra:t.extra},new f(O,t));if(r&&this.$refs){var C=_.link.call(this,A,r);A.$on("$destroy",C)}for(E=0,T=c.length;E<T;E++){var k=(w=c[E]).value||!0;N=w.name;"expression"!==k.type||w.event||(k=y._touchExpr(k),2&n||this.$watch(k,function(e,t){this.data[e]=t}.bind(A,N),l.SYNC),!k.set||1&n||A.$watch(N,y.$update.bind(y,k),l.INIT))}if(a&&"expression"===a.type){var I=new s;return I.push(A),this.$watch(a,(function(e){var t=p.component(e);if(!t)throw new Error("component "+e+" has not registed!");var n=new t(O),a=I.children.pop();if(I.push(n),n.$inject(i.last(a),"after"),a.destroy(),r){var s=r.get?r.get(this):r;y.$refs[s]=n}}),l.SYNC),I}return A},v.attribute=function(e,t){var n=e,r=this.constructor,i=n.name,a=r.directive(i);d.prepareAttr(e,a);var s=n.value||"",c=s.constant,f=t.element,h=this;if(s=this._touchExpr(s),c&&(s=s.get(this)),a&&a.link){var p={attrs:t.attrs,param:u.getParamObj(this,n.param)},v=a.link.call(h,f,s,i,p);return"function"==typeof a.update&&(u.isExpr(s)?this.$watch(s,(function(e,t){a.update.call(h,f,e,t,p)})):a.update.call(h,f,s,void 0,p)),"function"==typeof v&&(v={destroy:v}),v}if("expression"===s.type?this.$watch(s,(function(e,t){o.attr(f,i,e)}),l.STABLE_INIT):u.isBooleanAttr(i)?o.attr(f,i,!0):o.attr(f,i,s),!t.fromElement)return{destroy:function(){o.attr(f,i,null)}}}},function(e,t,n){var r=n(0),i={destroy:"$destroy",update:"$update",init:"$init",config:"$config"};function a(e){return i[e]||e}var s={$on:function(e,t,n){if("object"==typeof e&&e)for(var r in e)this.$on(r,e[r],t);else{n=n||{};e=a(e);var i,s=this._handles||(this._handles={}),o=s[e]||(s[e]=[]);n.once&&(i=function(){t.apply(this,arguments),this.$off(e,t)},t.real=i),o.push(i||t)}return this},$off:function(e,t){if(this._handles){e||(this._handles={});var n,r=this._handles;if(n=r[e=a(e)]){if(!t)return r[e]=[],this;t=t.real||t;for(var i=0,s=n.length;i<s;i++)if(t===n[i])return n.splice(i,1),this}return this}},$emit:function(e){var t,n=this,i=n._handles;if(e){var s=r.slice(arguments,1),o=a(e);if(!i)return n;if(!(t=i[o]))return n;t.length>1&&(t=t.slice());for(var u=0,c=t.length;u<c;u++)"function"==typeof t[u]&&t[u].apply(n,s);return n}},$once:function(e,t){var n=r.slice(arguments);return n.push({once:!0}),this.$on.apply(this,n)}};function o(){}r.extend(o.prototype,s),o.mixTo=function(e){e="function"==typeof e?e.prototype:e,r.extend(e,s)},e.exports=o},function(e,t,n){var r=n(0),i=n(12).expression,a=n(17),s=n(18),o=a.diffArray,u=a.diffObject;function c(){}var l={$watch:function(e,t,n){var i,a,s,o,u=!1,c=this.__ext__;this._watchers||(this._watchers=[]),this._watchersForStable||(this._watchersForStable=[]),!0===(n=n||{})&&(n={deep:!0});var l=r.uid("w_");if(Array.isArray(e)){for(var f=[],h=0,p=e.length;h<p;h++)f.push(this.$expression(e[h]).get);var d=[];s=function(e){for(var t=!0,n=0,i=f.length;n<i;n++){var a=f[n](e,c);r.equals(a,d[n])||(t=!1,d[n]=a)}return!t&&d}}else"function"==typeof e?i=e.bind(this):(e=this.$expression(e),r.isExpr(e)?(i=e.get,a=e.once):(i=function(){return e},a=!0,u=!0));var v={id:l,get:i,fn:t,once:a,force:n.force,diff:n.diff,keyOf:n.keyOf,test:s,deep:n.deep,last:n.sync?i(this):n.last};if(this[n.stable||u?"_watchersForStable":"_watchers"].push(v),(o=this._records&&this._records.length)&&this._records[o-1].push(v),!0===n.init){var m=this.$phase;this.$phase="digest",this._checkSingleWatch(v),this.$phase=m}return v},$unwatch:function(e){if(this._watchers&&e){var t=this._watchers,n=typeof e;if("object"===n){var i=e.length;if(i)for(;i-- >=0;)this.$unwatch(e[i]);else e.removed=!0}else if("number"===n){var a=e;return(e=r.findItem(t,(function(e){return e.id===a})))||(e=r.findItem(this._watchersForStable,(function(e){return e.id===a}))),this.$unwatch(e)}return this}},$expression:function(e){return this._touchExpr(i(e))},$digest:function(){if("digest"!==this.$phase&&!this._mute){this.$phase="digest";for(var e=0;this._digest();)if(++e>20)throw Error("there may a circular dependencies reaches");var t=this._digest(!0);(e>0||t)&&this.$emit&&(this.$emit("$update"),this.devtools&&this.devtools.emit("flush",this)),this.$phase=null}},_digest:function(e){if(!this._mute){var t,n,r=e?this._watchersForStable:this._watchers,i=!1,a=r&&r.length;if(a)for(var s=0,o=0,u=0;u<a;u++){var c=!(n=r[u])||n.removed;c?o+=1:this._checkSingleWatch(n)&&(i=!0),c&&u!==a-1||(o&&(r.splice(s,o),a-=o,u-=o,o=0),s=u+1)}if((t=this._children)&&t.length)for(var l=0,f=t.length;l<f;l++){var h=t[l];h&&h._digest(e)&&(i=!0)}return i}},_checkSingleWatch:function(e){var t=!1;if(e){var n,i,a,c,l,f,h;if(e.test){var p=e.test(this);p&&(t=!0,e.fn.apply(this,p))}else n=e.get(this),i=e.last,f=e.keyOf,(n!==i||e.force)&&(a=r.typeOf(i),!0,"object"===(c=r.typeOf(n))&&"object"===a&&e.deep?((l=u(n,i,e.diff,f)).isTrack&&(l=(h=l).steps),(!0===l||l.length)&&(t=!0)):"array"!==c||"undefined"!=a&&"array"!==a?r.equals(n,i)&&!e.force||(e.force=null,t=!0):("function"==typeof f?(l=(h=s(n,e.last||[],f)).steps,h.dirty&&(t=!0)):l=o(n,e.last||[],e.diff),t||"array"===a&&!0!==l&&!l.length||(t=!0)));return t&&!e.test&&("object"===c&&e.deep||"array"===c?e.last=r.clone(n):e.last=n,e.fn.call(this,n,i,l,h&&h.oldKeyMap,h&&h.dirty),e.once&&this.$unwatch(e)),t}},$set:function(e,t){if(null!=e){var n=typeof e;if("string"===n||"expression"===e.type)(e=this.$expression(e)).set(this,t);else if("function"===n)e.call(this,this.data);else for(var r in e)this.$set(r,e[r])}},$get:function(e,t){return t&&"string"==typeof e?e:this.$expression(e).get(this)},$update:function(){var e=this;if("destroyed"===e.$phase)return this;do{if(e.data.isolate||!e.$parent)break;e=e.$parent}while(e);var t=e.$phase;return e.$phase="digest",this.$set.apply(this,arguments),e.$phase=t,e.$digest(),this},_record:function(){this._records||(this._records=[]),this._records.push([])},_release:function(){return this._records.pop()}};r.extend(c.prototype,l),c.mixTo=function(e){return e="function"==typeof e?e.prototype:e,r.extend(e,l)},e.exports=c},function(e,t){var n=e.exports={};n.json={get:function(e){return"undefined"!=typeof JSON?JSON.stringify(e):e},set:function(e){return"undefined"!=typeof JSON?JSON.parse(e):e}},n.last=function(e){return e&&e[e.length-1]},n.average=function(e,t){return(e=e||[]).length?n.total(e,t)/e.length:0},n.total=function(e,t){var n=0;if(e)return e.forEach((function(e){n+=t?e[t]:e})),n}},function(e,t,n){var r=n(0),i=n(1),a=(n(6),n(4)),s=n(3),o=s.NAMESPACE,u=s.OPTIONS.STABLE,c={deep:!0,stable:!0};n(31),n(32),e.exports={"r-class":function(e,t){"string"==typeof t&&(t=r.fixObjStr(t));var n=e.namespaceURI&&e.namespaceURI!==o.html;this.$watch(t,(function(t){var r=n?e.getAttribute("class"):e.className;for(var a in r=" "+(r||"").replace(/\s+/g," ")+" ",t)t.hasOwnProperty(a)&&(r=r.replace(" "+a+" "," "),!0===t[a]&&(r+=a+" "));r=r.trim(),n?i.attr(e,"class",r):e.className=r}),c)},"r-style":function(e,t){"string"==typeof t&&(t=r.fixObjStr(t)),this.$watch(t,(function(t,n){for(var r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&i.css(e,r,"");for(r in t)t.hasOwnProperty(r)&&i.css(e,r,t[r])}),c)},"r-hide":{link:function(e,t){var n,i=null;r.isExpr(t)||"string"==typeof t?this.$watch(t,(function(t){var r=!!t;r!==i&&(i=r,r?e.onleave?n=e.onleave((function(){e.style.display="none",n=null})):e.style.display="none":(n&&n(),e.style.display="",e.onenter&&e.onenter()))}),u):t&&(e.style.display="none")},ssr:function(e){return e?'style="display:none"':""}},"r-html":{ssr:function(e,t){return t.body=e,""},link:function(e,t){this.$watch(t,(function(t){t=t||"",i.html(e,t)}),{force:!0,stable:!0})}},ref:{accept:s.COMPONENT_TYPE+s.ELEMENT_TYPE,link:function(e,t){var n,i=this.$refs||(this.$refs={});return r.isExpr(t)?this.$watch(t,(function(t,r){n=t,i[r]===e&&(i[r]=null),n&&(i[n]=e)}),u):i[n=t]=e,function(){i[n]=null}}}},a.directive(e.exports)},function(e,t,n){var r=n(0),i=n(1),a=n(4);a._addProtoInheritCache("event"),a.directive(/^on-\w+$/,(function(e,t,n,r){if(n&&t){var i=n.split("-")[1];return this._handleEvent(e,i,t,r)}})),a.directive(/^(delegate|de)-\w+$/,(function(e,t,n){var a=this.$root,s=a._delegates||(a._delegates={});if(n&&t){var o=n.split("-")[1],u=r.handleEvent.call(this,t,o);s[o]||(s[o]=[],a.parentNode?i.on(a.parentNode,o,l):a.$on("$inject",(function(e,t,n){var r=this.parentNode;n&&i.off(n,o,l),r&&i.on(this.parentNode,o,l)})),a.$on("$destroy",(function(){a.parentNode&&i.off(a.parentNode,o,l),s[o]=null})));var c={element:e,fire:u};return s[o].push(c),function(){var e=s[o];if(e&&e.length)for(var t=0,n=e.length;t<n;t++)e[t]===c&&e.splice(t,1)}}function l(e){!function(e,t,n){if(!n)return;var r,i=e.target;for(;i&&i!==n;){for(var a=0,s=t.length;a<s;a++)(r=t[a])&&r.element===i&&r.fire(e);i=i.parentNode}}(e,s[o],a.parentNode)}}))},function(e,t,n){var r,i=n(0),a=n(1),s=n(3).OPTIONS.STABLE,o=n(4),u={text:function(e,t,n){var o,u=n.param,c=u.lazy;"throttle"in u&&(o=!0===u.throttle?400:parseInt(u.throttle,10));var l=this,f=this.$watch(t,(function(t){e.value!==t&&(e.value=null==t?"":""+t)}),s),h=!1,p=function(e){if(!h){h=!1;var n=this;if("cut"===e.type||"paste"===e.type)i.nextTick((function(){var e=n.value;t.set(l,e),f.last=e,l.$update()}));else{var r=n.value;t.set(l,r),f.last=r,l.$update()}}};if(o&&!c){p=i.throttle(p,o)}void 0===r&&(r=9!==a.msie&&"oninput"in document.createElement("input"));c?a.on(e,"change",p):("function"==typeof CompositionEvent&&(e.addEventListener("compositionstart",(function(){h=!0})),e.addEventListener("compositionend",(function(e){h=!1,p.call(this,e)}))),r?e.addEventListener("input",p):a.on(e,"paste keyup cut change",p));void 0===t.get(l)&&e.value&&t.set(l,e.value);return function(){if(c)return a.off(e,"change",p);r?e.removeEventListener("input",p):a.off(e,"paste keyup cut change",p)}},select:function(e,t,n){var r=this,i=this.$watch(t,(function(t){for(var n=e.getElementsByTagName("option"),r=0,i=n.length;r<i;r++)if(n[r].value==t){e.selectedIndex=r;break}}),s);function o(){t.set(r,this.value),i.last=this.value,r.$update()}a.on(e,"change",o),void 0===t.get(r)&&e.value&&t.set(r,e.value);return function(){a.off(e,"change",o)}},checkbox:function(e,t){var n=this,r=this.$watch(t,(function(t){a.attr(e,"checked",!!t)}),s),i=function(){var e=this.checked;t.set(n,e),r.last=e,n.$update()};t.set&&a.on(e,"change",i);void 0===t.get(n)&&t.set(n,!!e.checked);return function(){t.set&&a.off(e,"change",i)}},radio:function(e,t){var n=this,r=(this.$watch(t,(function(t){t==e.value?e.checked=!0:e.checked=!1}),s),function(){var e=this.value;t.set(n,e),n.$update()});t.set&&a.on(e,"change",r);void 0===t.get(n)&&e.checked&&t.set(n,e.value);return function(){t.set&&a.off(e,"change",r)}}};o.directive("r-model",{param:["throttle","lazy"],link:function(e,t,n,r){var i=e.tagName.toLowerCase(),a=i;return"input"===a?a=e.type||"text":"textarea"===a&&(a="text"),"string"==typeof t&&(t=this.$expression(t)),u[a]?u[a].call(this,e,t,r):"input"===i?u.text.call(this,e,t,r):void 0}})},function(e,t,n){var r=n(0),i=n(6),a=(n(1),n(4)),s=/\s+/,o="when",u="on";function c(e,t){var n=this.constructor;r.isExpr(t)&&(t=t.get(this));var i,a,s,c,l=(t=t.trim()).split(";"),f=[],h=[];function p(e){i&&f.push(i),i=function(e){var t,n=[],i=0,a=r.noop,s={type:e,start:function(e){return t=r.uid(),"function"==typeof e&&(a=e),i>0?i=0:s.step(),s.compelete},compelete:function(){t=null,a&&a(),a=r.noop,i=0},step:function(){n[i]&&n[i](s.done.bind(s,t))},done:function(e){e===t&&(i<n.length-1?(i++,s.step()):s.compelete())},push:function(e){n.push(e)}};return s}(e)}function d(e,t){t&&e()}function v(e){return function(){e.onenter=null,e.onleave=null}}for(var m=0,g=l.length;m<g;m++)if(a=(c=l[m].split(":"))[0]&&c[0].trim(),s=c[1]&&c[1].trim(),a)if(a!==o)if(a!==u){var _;if(!(_=n.animation(a))||!i)throw Error(_?"you should start with `on` or `event` in animation":"undefined animator 【"+a+"】");i.push(_.call(this,{element:e,done:i.done,param:s}))}else p(s),"leave"===s?(e.onleave=i.start,h.push(v(e))):"enter"===s?(e.onenter=i.start,h.push(v(e))):"on"+s in e?h.push(this._handleEvent(e,s,i.start)):(this.$on(s,i.start),h.push(this.$off.bind(this,s,i.start)));else p("when"),this.$watch(s,d.bind(this,i.start));if(h.length)return function(){h.forEach((function(e){e()}))}}a._addProtoInheritCache("animation"),a.animation({wait:function(e){var t=parseInt(e.param)||0;return function(e){setTimeout(e,t)}},class:function(e){var t=e.param.split(","),n=t[0]||"",r=parseInt(t[1])||1;return function(t){i.startClassAnimate(e.element,n,t,r)}},call:function(e){var t=this.$expression(e.param).get,n=this;return function(e){t(n),n.$update(),e()}},emit:function(e){var t=e.param.split(","),n=t[0]||"",r=t[1]?this.$expression(t[1]).get:null;if(!n)throw Error("you shoud specified a eventname in emit command");var i=this;return function(e){i.$emit(n,r?r(i):void 0),e()}},style:function(e){var t,n={};return e.param.split(",").forEach((function(e){if(e=e.trim()){var r=e.split(s),i=r.shift(),a=r.join(" ");if(!i||!a)throw Error("invalid style in command: style");n[i]=a,t=!0}})),function(r){t?i.startStyleAnimate(e.element,n,r):r()}}}),a.directive("r-animation",c),a.directive("r-anim",c)},function(e,t,n){var r=n(4);function i(e){e.implement({$timeout:function(e,t){return t=t||0,setTimeout(function(){e.call(this),this.$update()}.bind(this),t)},$interval:function(e,t){return t=t||1e3/60,setInterval(function(){e.call(this),this.$update()}.bind(this),t)}})}r.plugin("timeout",i),r.plugin("$timeout",i)},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r);let a=null;let s=null;function o(e,t={}){let n=document.createElement(e);return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function u(e,t,n){return(window.getComputedStyle(e,n||null)||{display:"none"})[t]}function c(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};let t=e;for(;t!==document;){if("none"===u(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var l='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let f=0,h=null;function p(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=d.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:t,offsetHeight:n}=e,r=new ResizeObserver(()=>{(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==t||e.offsetHeight!==n))&&m(e)}),{detached:i,rendered:a}=c(e);e.__resize_observer_triggered__=!1===i&&!1===a,e.__resize_observer__=r,r.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){m(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(f||(h=function(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}(l)),function(e){let t=u(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};let n=o("div",{className:"resize-triggers"}),r=o("div",{className:"resize-expand-trigger"}),i=o("div"),a=o("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(a),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:a},g(e),e.addEventListener("scroll",v,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=c(e).rendered,window.MutationObserver){let t=new MutationObserver(e.__resize_mutation_handler__);t.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=t}e.__resize_listeners__.push(t),f++}function d(){let{rendered:e,detached:t}=c(this);e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(g(this),this.addEventListener("scroll",v,!0)),this.__resize_rendered__=e,m(this))}function v(){var e,t;g(this),this.__resize_raf__&&(e=this.__resize_raf__,s||(s=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),s(e)),this.__resize_raf__=(t=()=>{let e=function(e){let{width:t,height:n}=e.__resize_last__,{offsetWidth:r,offsetHeight:i}=e;return r!==t||i!==n?{width:r,height:i}:null}(this);e&&(this.__resize_last__=e,m(this))},a||(a=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),a(t))}function m(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(t=>{t.call(e)})}function g(e){let{expand:t,expandChild:n,contract:r}=e.__resize_triggers__,{scrollWidth:i,scrollHeight:a}=r,{offsetWidth:s,offsetHeight:o,scrollWidth:u,scrollHeight:c}=t;r.scrollLeft=i,r.scrollTop=a,n.style.width=s+1+"px",n.style.height=o+1+"px",t.scrollLeft=u,t.scrollTop=c}const _=["maxLines","maxHeight","ellipsis","isClamped"],y=["tag","text","autoresize"],x={name:"regular-clamp",data:{offset:null,text:"",ellipsis:"...",localExpanded:!1,realLines:0},computed:{clampedText:e=>e.text.slice(0,e.offset)+e.ellipsis,isClamped:e=>!!e.text&&e.offset!==e.text.length,realText(e){return this.$get("isClamped")?this.$get("clampedText"):e.text},realMaxHeight(e){if(e.localExpanded)return null;let{maxHeight:t}=e;return t?"number"==typeof t?`${t}px`:t:null}},config(){this.data.text=this.getText(),this.data.maxLines=+this.data.maxLines||0,this.data.localExpanded=!!this.data.expanded,this.$watch("expanded",e=>{this.data.localExpanded=e,this.$update()}),this.$watch("localExpanded",e=>{e?this.clampAt(this.data.text.length):this.update(),this.data.expanded!==e&&this.$emit("expanded",e),this.$update()}),this.$update()},init(){setTimeout(()=>{this.mounted()},0)},destroy(){this.cleanUp()},mounted(){this.initComp(),y.forEach(e=>{this.$watch(e,this.initComp)}),_.forEach(e=>{this.$watch(e,this.update)}),this.$watch("text",e=>{setTimeout(()=>{this.update()},0)})},initComp(){if(this.data.text){if(this.data.offset=this.data.text.length,this.cleanUp(),this.data.autoresize){let e=()=>{this.update()};p(this.$refs.clamp,e),this.unregisterResizeCallback=()=>{!function(e,t){let n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",v),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--f&&h&&h.parentNode.removeChild(h)}}(this.$refs.clamp,e)}}this.update()}},update(){this.data.realLines=this.getLines(),this.$update(),this.data.localExpanded||(this.applyChange(),(this.isOverflow()||this.$get("isClamped"))&&this.search(),this.data.realLines=this.getLines(),this.$update())},toggle(){this.data.localExpanded=!this.data.localExpanded,this.$update()},getLines(){return this.$refs.content.getClientRects().length},isOverflow(){return!(!this.data.maxLines&&!this.data.maxHeight)&&(!!(this.data.maxLines&&this.getLines()>this.data.maxLines)||!!(this.data.maxHeight&&this.$el.scrollHeight>this.$el.offsetHeight))},getText(){let[e={}]=(this._body.ast||[]).filter(e=>"text"===e.type);return e.text&&e.text.trim()?e.text:this.data.text||""},moveEdge(e){this.clampAt(this.data.offset+e)},clampAt(e){this.data.offset=e,this.$update(),this.applyChange()},applyChange(){this.$refs.text.textContent=this.$get("realText")},stepToFit(){this.fill(),this.clamp()},fill(){for(;(!this.isOverflow()||this.getLines()<2)&&this.data.offset<this.data.text.length;)this.moveEdge(1)},clamp(){for(;this.isOverflow()&&this.getLines()>1&&this.data.offset>0;)this.moveEdge(-1)},search(...e){let[t=0,n=this.data.offset]=e;if(n-t<=3)return void this.stepToFit();let r=Math.floor((n+t)/2);this.clampAt(r),this.isOverflow()?this.search(t,r):this.search(r,n)},cleanUp(){this.unregisterResizeCallback&&this.unregisterResizeCallback()},template:'<div ref="clamp" style="max-height: {realMaxHeight}; overflow: hidden;">\n                    <span ref="content" style="box-shadow: transparent 0 0;">{#if before}{#include before}{/if}<span ref="text" aria-label="{text.trim()}" style="white-space: pre-wrap;" {#if isTextTriggerToggle} on-click={this.toggle()} {/if}>{realText}</span>{#if after}{#include after}{/if}</span>\n                </div>'};"undefined"!=typeof window&&window.Regular&&window.Regular.extend(x);var E=x;i.a.extend(E);let T="Regular是什么\nRegular 本身在网易公司内部稳定运行了超过4年(本节撰写于2018年), 支持了数十条产品线，可靠性是值得保证的。\nRegular 是 MDV(数据驱动视图技术) 的一种实现， 它...\n提供以下能力\n数据绑定,局部刷新\n深度的组件化能力\n服务端渲染\n单页系统：regular-state提供完整的单页系统解决方案，包括服务端渲染支持\n编译到小程序: 感谢考拉团队精彩的 mpregular\n拥有以下特性\n语法灵活：自建DSL，表达能力不受HTML语法所限\n基于脏检查：直接操作裸数据，没有 set/get 包装\n良好的兼容性：支持 IE7+ 以及其他现代浏览器\n渐进的视图层框架：无侵入性，可以配合任何框架和模块系统使用";new i.a({template:'\n        <regular-clamp on-expanded={this.updateExpanded($event)} text={text} max-lines=3 ellipsis="..." after={after} before={before}>\n\n        </regular-clamp>\n    ',data:{after:'<span class="end tag" r-hide="!(localExpanded || isClamped)" on-click={this.toggle()}>\n            {#if localExpanded}\n                收起\n            {#else}\n                查看全部\n            {/if}\n        </span>',before:'<span class="start tag">开始</span>',text:T.replace(/\s/g,"")},updateExpanded:function(e){console.log(e)}}).$inject("#test"),new i.a({template:`\n        <regular-clamp on-expanded={this.updateExpanded($event)} isTextTriggerToggle expanded autoresize max-lines=3 ellipsis="..." after={after} before={before}>\n            ${T}\n        </regular-clamp>\n    `,data:{after:'<span class="end tag" r-hide="!((localExpanded && realLines >3) || isClamped)" on-click={this.toggle()}>\n            {#if localExpanded}\n                收起\n            {#else}\n                查看全部\n            {/if}\n        </span>',before:'<span class="start tag">开始</span>'},updateExpanded:function(e){console.log(e)}}).$inject("#resize")}]);
//# sourceMappingURL=index.js.map